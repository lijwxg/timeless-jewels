var Ul=Object.defineProperty;var Bl=(t,e,l)=>e in t?Ul(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var Ee=(t,e,l)=>(Bl(t,typeof e!="symbol"?e+"":e,l),l);import{s as nt,r as pt,f as A,a as q,g as R,h as D,d as b,c as J,j as T,k as Ye,i as O,D as C,H as St,I as Te,u as vt,v as bt,w as wt,F as xe,J as Fl,o as Rl,K as Nt,L as Hl,M as K,p as lt,y as Ze,N as Pl,e as we,A as Ml,z as w,l as Y,m as X,x as pe,n as Re,G as st,E as $e,O as de,C as Ve,B as Lt,P as Ot,Q as Dt}from"../chunks/scheduler.a4661fe7.js";import{S as it,i as rt,a as F,t as G,g as je,c as qe,b as Je,d as Ue,m as Be,e as Fe,f as Vt}from"../chunks/index.0ccbc0e6.js";import{e as Ne,u as Kl,o as Yl,g as Xl,S as Et}from"../chunks/navigation.3a177983.js";import{r as Gl,h as Wl}from"../chunks/singletons.c697c7db.js";import{b as Ql,a as Xe,d as Mt,t as jt,c as tt,o as qt,e as It,f as Jt,i as Ut,g as Bt,h as Zl,j as Ft,k as Ht,m as ft,n as xl,s as $l,p as es,q as Kt}from"../chunks/worker.fcec8cef.js";import{c as zl,d as te}from"../chunks/index.098253ec.js";import{p as ts}from"../chunks/stores.ac1502fb.js";const Nl=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;class ls{constructor(){Ee(this,"currentLayerId");Ee(this,"setups");Ee(this,"renderers");Ee(this,"dispatchers");Ee(this,"needsSetup");Ee(this,"needsRedraw");Ee(this,"context");Ee(this,"width");Ee(this,"height");Ee(this,"autoclear");Ee(this,"pixelRatio");Ee(this,"renderLoop");Ee(this,"layerObserver");Ee(this,"layerRef");Ee(this,"layerSequence");Ee(this,"renderingLayerId");Ee(this,"activeLayerId");Ee(this,"activeLayerDispatcher");this.register=this.register.bind(this),this.unregister=this.unregister.bind(this),this.redraw=this.redraw.bind(this),this.getRenderingLayerId=this.getRenderingLayerId.bind(this),this.currentLayerId=1,this.setups=new Map,this.renderers=new Map,this.dispatchers=new Map,this.needsSetup=!1,this.needsRedraw=!0,this.renderingLayerId=0,this.activeLayerId=0,this.layerSequence=[]}redraw(){this.needsRedraw=!0}register({setup:e,render:l,dispatcher:s}){return e&&(this.setups.set(this.currentLayerId,e),this.needsSetup=!0),this.renderers.set(this.currentLayerId,l),this.dispatchers.set(this.currentLayerId,s),this.needsRedraw=!0,this.currentLayerId++}unregister(e){this.renderers.delete(e),this.dispatchers.delete(e),this.needsRedraw=!0}setup(e,l){this.context=e,this.layerRef=l,this.observeLayerSequence(),this.startRenderLoop()}observeLayerSequence(){this.layerObserver=new MutationObserver(this.getLayerSequence.bind(this)),this.layerObserver.observe(this.layerRef,{childList:!0}),this.getLayerSequence()}getLayerSequence(){const e=[...this.layerRef.children];this.layerSequence=e.map(l=>+(l.dataset.layerId??-1)),this.redraw()}startRenderLoop(){this.render(),this.renderLoop=requestAnimationFrame(()=>this.startRenderLoop())}render(){var n;const e=this.context,l=this.width,s=this.height,i=this.pixelRatio;if(this.needsSetup){for(const[a,u]of this.setups)u({context:e,width:l,height:s}),this.setups.delete(a);this.needsSetup=!1}if(this.needsRedraw){e.setTransform(i,0,0,i,0,0),this.autoclear&&e.clearRect(0,0,l,s);for(const a of this.layerSequence)this.renderingLayerId=a,(n=this.renderers.get(a))==null||n({context:e,width:l,height:s});this.needsRedraw=!1}}setActiveLayer(e,l){this.activeLayerId!==e&&(l instanceof MouseEvent&&(this.dispatchLayerEvent(new PointerEvent("pointerleave",l)),this.dispatchLayerEvent(new MouseEvent("mouseleave",l))),this.activeLayerId=e,this.activeLayerDispatcher=this.dispatchers.get(e),l instanceof MouseEvent&&(this.dispatchLayerEvent(new PointerEvent("pointerenter",l)),this.dispatchLayerEvent(new MouseEvent("mouseenter",l))))}dispatchLayerEvent(e){if(this.activeLayerDispatcher){if(window.TouchEvent&&e instanceof TouchEvent){const{left:l,top:s}=e.target.getBoundingClientRect(),{clientX:i,clientY:n}=e.changedTouches[0],a={x:i-l,y:n-s,originalEvent:e};this.activeLayerDispatcher(e.type,a)}else if(e instanceof MouseEvent){const l={x:e.offsetX,y:e.offsetY,originalEvent:e};this.activeLayerDispatcher(e.type,l)}}}getRenderingLayerId(){return this.renderingLayerId}destroy(){typeof window>"u"||(this.layerObserver.disconnect(),cancelAnimationFrame(this.renderLoop))}}const ss=t=>{const e=t*2,l=e>>16&255,s=e>>8&255,i=e&255;return`rgb(${l}, ${s}, ${i})`},ns=(t,e,l)=>{const s=(t<<16|e<<8|l)/2;return s%1?0:s},is=["drawImage"],rs=["filter","shadowBlur","globalCompositeOperation","globalAlpha"],as=["drawImage","fill","fillRect","fillText","stroke","strokeRect","strokeText"],os=t=>{let e;const l=document.createElement("canvas"),s=l.getContext("2d",{willReadFrequently:!0}),i=()=>{l.width=t.canvas.width,l.height=t.canvas.height};return new MutationObserver(i).observe(t.canvas,{attributeFilter:["width","height"]}),i(),new Proxy(t,{get(a,u){if(u==="_getLayerIdAtPixel")return(o,h)=>{const[g,_,m]=s.getImageData(o,h,1,1).data;return ns(g,_,m)};const r=a[u];return typeof r!="function"?r:function(...o){if(as.includes(u)){const h=ss(e());s.fillStyle=h,s.strokeStyle=h}if(u==="drawImage"){const h=o.slice(1);s.fillRect(...h)}return is.includes(u)||Reflect.apply(r,s,o),Reflect.apply(r,a,o)}},set(a,u,r){return u==="_renderingLayerId"?(e=r,!0):(a[u]=r,rs.includes(u)||(s[u]=r),!0)}})};function us(t){let e,l,s,i=`${t[0]}px`,n=`${t[1]}px`,a,u,r,o,h;const g=t[18].default,_=pt(g,t,t[17],null);return{c(){e=A("canvas"),a=q(),u=A("div"),_&&_.c(),this.h()},l(m){e=R(m,"CANVAS",{width:!0,height:!0,class:!0,style:!0}),D(e).forEach(b),a=J(m),u=R(m,"DIV",{});var c=D(u);_&&_.l(c),c.forEach(b),this.h()},h(){T(e,"width",l=t[0]*t[5]),T(e,"height",s=t[1]*t[5]),T(e,"class",t[4]),T(e,"style",t[2]),Ye(e,"display","block"),Ye(e,"width",i),Ye(e,"height",n),Ye(u,"display","none")},m(m,c){O(m,e,c),t[64](e),O(m,a,c),O(m,u,c),_&&_.m(u,null),t[65](u),r=!0,o||(h=[C(e,"touchstart",St(function(){Te(t[3]?t[9]:null)&&(t[3]?t[9]:null).apply(this,arguments)})),C(e,"mousemove",function(){Te(t[3]?t[8]:null)&&(t[3]?t[8]:null).apply(this,arguments)}),C(e,"pointermove",function(){Te(t[3]?t[8]:null)&&(t[3]?t[8]:null).apply(this,arguments)}),C(e,"click",function(){Te(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),C(e,"contextmenu",function(){Te(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),C(e,"dblclick",function(){Te(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),C(e,"mousedown",function(){Te(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),C(e,"mouseenter",function(){Te(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),C(e,"mouseleave",function(){Te(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),C(e,"mouseup",function(){Te(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),C(e,"wheel",function(){Te(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),C(e,"touchcancel",St(function(){Te(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)})),C(e,"touchend",St(function(){Te(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)})),C(e,"touchmove",St(function(){Te(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)})),C(e,"pointerenter",function(){Te(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),C(e,"pointerleave",function(){Te(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),C(e,"pointerdown",function(){Te(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),C(e,"pointerup",function(){Te(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),C(e,"pointercancel",function(){Te(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),C(e,"focus",t[19]),C(e,"blur",t[20]),C(e,"fullscreenchange",t[21]),C(e,"fullscreenerror",t[22]),C(e,"scroll",t[23]),C(e,"cut",t[24]),C(e,"copy",t[25]),C(e,"paste",t[26]),C(e,"keydown",t[27]),C(e,"keypress",t[28]),C(e,"keyup",t[29]),C(e,"auxclick",t[30]),C(e,"click",t[31]),C(e,"contextmenu",t[32]),C(e,"dblclick",t[33]),C(e,"mousedown",t[34]),C(e,"mouseenter",t[35]),C(e,"mouseleave",t[36]),C(e,"mousemove",t[37]),C(e,"mouseover",t[38]),C(e,"mouseout",t[39]),C(e,"mouseup",t[40]),C(e,"select",t[41]),C(e,"wheel",t[42]),C(e,"drag",t[43]),C(e,"dragend",t[44]),C(e,"dragenter",t[45]),C(e,"dragstart",t[46]),C(e,"dragleave",t[47]),C(e,"dragover",t[48]),C(e,"drop",t[49]),C(e,"touchcancel",t[50]),C(e,"touchend",t[51]),C(e,"touchmove",t[52]),C(e,"touchstart",t[53]),C(e,"pointerover",t[54]),C(e,"pointerenter",t[55]),C(e,"pointerdown",t[56]),C(e,"pointermove",t[57]),C(e,"pointerup",t[58]),C(e,"pointercancel",t[59]),C(e,"pointerout",t[60]),C(e,"pointerleave",t[61]),C(e,"gotpointercapture",t[62]),C(e,"lostpointercapture",t[63])],o=!0)},p(m,c){t=m,(!r||c[0]&33&&l!==(l=t[0]*t[5]))&&T(e,"width",l),(!r||c[0]&34&&s!==(s=t[1]*t[5]))&&T(e,"height",s),(!r||c[0]&16)&&T(e,"class",t[4]),(!r||c[0]&4)&&T(e,"style",t[2]);const f=c[0]&4;f&&Ye(e,"display","block"),(f||c[0]&5&&i!==(i=`${t[0]}px`))&&Ye(e,"width",i),(f||c[0]&6&&n!==(n=`${t[1]}px`))&&Ye(e,"height",n),_&&_.p&&(!r||c[0]&131072)&&vt(_,g,t,t[17],r?wt(g,t[17],c,null):bt(t[17]),null)},i(m){r||(F(_,m),r=!0)},o(m){G(_,m),r=!1},d(m){m&&(b(e),b(a),b(u)),t[64](null),_&&_.d(m),t[65](null),o=!1,xe(h)}}}const Ll=Symbol(),fs=()=>Hl(Ll);function cs(t,e,l){let s,{$$slots:i={},$$scope:n}=e,{width:a=640,height:u=640,pixelRatio:r=null,style:o="",autoclear:h=!0,layerEvents:g=!1}=e,{class:_=""}=e,m,c=null,f;const d=new ls;function p(){d.redraw()}function S(){return m}function I(){return c}r==null&&(typeof window<"u"?r=window.devicePixelRatio:r=2),Fl(Ll,{register:d.register,unregister:d.unregister,redraw:d.redraw}),Rl(()=>{const k=m.getContext("2d");g?(c=os(k),c._renderingLayerId=d.getRenderingLayerId):c=k,d.setup(c,f)}),Nt(()=>d.destroy());const M=k=>{const dt=k.offsetX*s,mt=k.offsetY*s,_t=c._getLayerIdAtPixel(dt,mt);d.setActiveLayer(_t,k),d.dispatchLayerEvent(k)},N=k=>{const{clientX:dt,clientY:mt}=k.changedTouches[0],{left:_t,top:Ct}=m.getBoundingClientRect(),At=(dt-_t)*s,Rt=(mt-Ct)*s,Pt=c._getLayerIdAtPixel(At,Rt);d.setActiveLayer(Pt,k),d.dispatchLayerEvent(k)},y=k=>{window.TouchEvent&&k instanceof TouchEvent&&k.preventDefault(),d.dispatchLayerEvent(k)};function E(k){K.call(this,t,k)}function j(k){K.call(this,t,k)}function z(k){K.call(this,t,k)}function V(k){K.call(this,t,k)}function U(k){K.call(this,t,k)}function W(k){K.call(this,t,k)}function Z(k){K.call(this,t,k)}function he(k){K.call(this,t,k)}function ke(k){K.call(this,t,k)}function ae(k){K.call(this,t,k)}function $(k){K.call(this,t,k)}function Ce(k){K.call(this,t,k)}function ze(k){K.call(this,t,k)}function Se(k){K.call(this,t,k)}function B(k){K.call(this,t,k)}function ne(k){K.call(this,t,k)}function ie(k){K.call(this,t,k)}function L(k){K.call(this,t,k)}function v(k){K.call(this,t,k)}function Q(k){K.call(this,t,k)}function ue(k){K.call(this,t,k)}function le(k){K.call(this,t,k)}function _e(k){K.call(this,t,k)}function se(k){K.call(this,t,k)}function ge(k){K.call(this,t,k)}function me(k){K.call(this,t,k)}function Pe(k){K.call(this,t,k)}function oe(k){K.call(this,t,k)}function H(k){K.call(this,t,k)}function x(k){K.call(this,t,k)}function re(k){K.call(this,t,k)}function fe(k){K.call(this,t,k)}function He(k){K.call(this,t,k)}function Oe(k){K.call(this,t,k)}function Ge(k){K.call(this,t,k)}function ce(k){K.call(this,t,k)}function Ie(k){K.call(this,t,k)}function Ke(k){K.call(this,t,k)}function De(k){K.call(this,t,k)}function Me(k){K.call(this,t,k)}function Le(k){K.call(this,t,k)}function at(k){K.call(this,t,k)}function ct(k){K.call(this,t,k)}function ht(k){K.call(this,t,k)}function ot(k){K.call(this,t,k)}function ut(k){lt[k?"unshift":"push"](()=>{m=k,l(6,m)})}function Tt(k){lt[k?"unshift":"push"](()=>{f=k,l(7,f)})}return t.$$set=k=>{"width"in k&&l(0,a=k.width),"height"in k&&l(1,u=k.height),"pixelRatio"in k&&l(11,r=k.pixelRatio),"style"in k&&l(2,o=k.style),"autoclear"in k&&l(12,h=k.autoclear),"layerEvents"in k&&l(3,g=k.layerEvents),"class"in k&&l(4,_=k.class),"$$scope"in k&&l(17,n=k.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&2048&&l(5,s=r??1),t.$$.dirty[0]&1&&l(16,d.width=a,d),t.$$.dirty[0]&2&&l(16,d.height=u,d),t.$$.dirty[0]&32&&l(16,d.pixelRatio=s,d),t.$$.dirty[0]&4096&&l(16,d.autoclear=h,d),t.$$.dirty[0]&71683&&d.redraw()},[a,u,o,g,_,s,m,f,M,N,y,r,h,p,S,I,d,n,i,E,j,z,V,U,W,Z,he,ke,ae,$,Ce,ze,Se,B,ne,ie,L,v,Q,ue,le,_e,se,ge,me,Pe,oe,H,x,re,fe,He,Oe,Ge,ce,Ie,Ke,De,Me,Le,at,ct,ht,ot,ut,Tt]}class hs extends it{constructor(e){super(),rt(this,e,cs,us,nt,{width:0,height:1,pixelRatio:11,style:2,autoclear:12,layerEvents:3,class:4,redraw:13,getCanvas:14,getContext:15},null,[-1,-1,-1])}get redraw(){return this.$$.ctx[13]}get getCanvas(){return this.$$.ctx[14]}get getContext(){return this.$$.ctx[15]}}function ds(t){let e;return{c(){e=A("div"),this.h()},l(l){e=R(l,"DIV",{"data-layer-id":!0}),D(e).forEach(b),this.h()},h(){T(e,"data-layer-id",t[0])},m(l,s){O(l,e,s)},p:Ze,i:Ze,o:Ze,d(l){l&&b(e)}}}function ms(t,e,l){const{register:s,unregister:i,redraw:n}=fs(),a=Pl();let{setup:u=void 0}=e,{render:r=()=>{}}=e;const o=s({setup:u,render:r,dispatcher:a});return Nt(()=>i(o)),t.$$set=h=>{"setup"in h&&l(1,u=h.setup),"render"in h&&l(2,r=h.render)},t.$$.update=()=>{t.$$.dirty&4&&n()},[o,u,r]}class _s extends it{constructor(e){super(),rt(this,e,ms,ds,nt,{setup:1,render:2})}}let Yt;const Ol=Date.now(),Dl=t=>(t(Date.now()-Ol),Yt=window.requestAnimationFrame(()=>Dl(t)),()=>window.cancelAnimationFrame(Yt));function gs(){}const ps=Gl(Date.now()-Ol,typeof window>"u"?gs:Dl),{window:zt}=Nl;function Xt(t){let e,l,s,i,n,a;l=new hs({props:{width:t[0],height:t[1],$$slots:{default:[vs]},$$scope:{ctx:t}}}),l.$on("pointerdown",t[5]),l.$on("wheel",t[8]);const u=t[26].default,r=pt(u,t,t[27],null);return{c(){e=A("div"),Je(l.$$.fragment),s=q(),r&&r.c(),this.h()},l(o){e=R(o,"DIV",{style:!0});var h=D(e);Ue(l.$$.fragment,h),s=J(h),r&&r.l(h),h.forEach(b),this.h()},h(){Ye(e,"touch-action","none"),Ye(e,"cursor",t[2])},m(o,h){O(o,e,h),Be(l,e,null),w(e,s),r&&r.m(e,null),i=!0,n||(a=C(e,"resize",t[9]),n=!0)},p(o,h){const g={};h[0]&1&&(g.width=o[0]),h[0]&2&&(g.height=o[1]),h[0]&134217736&&(g.$$scope={dirty:h,ctx:o}),l.$set(g),r&&r.p&&(!i||h[0]&134217728)&&vt(r,u,o,o[27],i?wt(u,o[27],h,null):bt(o[27]),null),(!i||h[0]&4)&&Ye(e,"cursor",o[2])},i(o){i||(F(l.$$.fragment,o),F(r,o),i=!0)},o(o){G(l.$$.fragment,o),G(r,o),i=!1},d(o){o&&b(e),Fe(l),r&&r.d(o),n=!1,a()}}}function vs(t){let e,l;return e=new _s({props:{render:t[3]}}),{c(){Je(e.$$.fragment)},l(s){Ue(e.$$.fragment,s)},m(s,i){Be(e,s,i),l=!0},p(s,i){const n={};i[0]&8&&(n.render=s[3]),e.$set(n)},i(s){l||(F(e.$$.fragment,s),l=!0)},o(s){G(e.$$.fragment,s),l=!1},d(s){Fe(e,s)}}}function bs(t){let e,l,s,i,n=t[0]&&t[1]&&Xt(t);return{c(){n&&n.c(),e=we()},l(a){n&&n.l(a),e=we()},m(a,u){n&&n.m(a,u),O(a,e,u),l=!0,s||(i=[C(zt,"pointerup",t[6]),C(zt,"pointermove",t[7]),C(zt,"resize",t[9])],s=!0)},p(a,u){a[0]&&a[1]?n?(n.p(a,u),u[0]&3&&F(n,1)):(n=Xt(a),n.c(),F(n,1),n.m(e.parentNode,e)):n&&(je(),G(n,1,1,()=>{n=null}),qe())},i(a){l||(F(n),l=!0)},o(a){G(n),l=!1},d(a){a&&b(e),n&&n.d(a),s=!1,xe(i)}}}const Gt="25px Roboto Mono",Wt="17px Roboto Mono",Qt=2.6;function ws(t,e,l){let s,i,n,{$$slots:a={},$$scope:u}=e,{clickNode:r}=e,{circledNode:o}=e,{selectedJewel:h}=e,{selectedConqueror:g}=e,{seed:_}=e,{highlighted:m=[]}=e,{disabled:c=[]}=e,{highlightJewels:f=!1}=e;const d=Wl(ps,v=>(!m||!m.length)&&!f?0:Math.round(v/40));Ml(t,d,v=>l(25,n=v));const p=[427,320,226,227,323,422,329];let S=10,I=0,M=0;const N={},y={},E=(v,Q,ue,le=!1,_e=!1)=>{let se=le?Zl[Q]:Ft[Q];!se&&le&&(se=Ft[Q]);const ge=se.filename;ge in(le?y:N)||((le?y:N)[ge]=new Image,(le?y:N)[ge].src=ge);const me=se.coords[Q],Pe=me.w/S*Qt,oe=me.h/S*Qt,H=ue.x-Pe/2,x=ue.y-oe/2;let re=x;_e&&(re=x-oe/2),v.drawImage((le?y:N)[ge],me.x,me.y,me.w,me.h,H,re,Pe,oe),_e&&(v.save(),v.translate(H,x),v.rotate(Math.PI),v.drawImage((le?y:N)[ge],me.x,me.y,me.w,me.h,-Pe,-(oe/2),Pe,-oe),v.restore())},j=(v,Q,ue)=>{const le=[];let _e="";return v.split(" ").forEach(se=>{Q.measureText(_e+se).width<ue?_e+=" "+se:(le.push(_e.trim()),_e=se)}),_e.length>0&&le.push(_e.trim()),le};let z={x:Number.MIN_VALUE,y:Number.MIN_VALUE},V="unset",U,W=0,Z=0,he=0,ke=0,ae=!1;const $=v=>{ae=!0,W=v.offsetX,Z=v.offsetY,he=I,ke=M,l(21,z={x:v.offsetX,y:v.offsetY}),U&&r(U)},Ce=v=>{v.type==="pointerup"&&(ae=!1),l(21,z={x:v.offsetX,y:v.offsetY})},ze=v=>{ae&&(l(19,I=he-(W-v.offsetX)*S),l(20,M=ke-(Z-v.offsetY)*S)),l(21,z={x:v.offsetX,y:v.offsetY})},Se=v=>{v.deltaY>0?S<30&&(l(19,I+=v.offsetX),l(20,M+=v.offsetY)):S>3&&(l(19,I-=v.offsetX),l(20,M-=v.offsetY)),l(18,S=Math.min(30,Math.max(3,S+v.deltaY/100))),v.preventDefault(),v.stopPropagation(),v.stopImmediatePropagation()};let B=0,ne=0;const ie=()=>{l(0,B=window.innerWidth),l(1,ne=window.innerHeight)};let L=!1;return t.$$set=v=>{"clickNode"in v&&l(10,r=v.clickNode),"circledNode"in v&&l(11,o=v.circledNode),"selectedJewel"in v&&l(12,h=v.selectedJewel),"selectedConqueror"in v&&l(13,g=v.selectedConqueror),"seed"in v&&l(14,_=v.seed),"highlighted"in v&&l(15,m=v.highlighted),"disabled"in v&&l(16,c=v.disabled),"highlightJewels"in v&&l(17,f=v.highlightJewels),"$$scope"in v&&l(27,u=v.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&262144&&l(24,s=Ql/S),t.$$.dirty[0]&8650752&&(!L&&Xe&&(l(23,L=!0),l(19,I=Xe.min_x+window.innerWidth/2*S),l(20,M=Xe.min_y+window.innerHeight/2*S)),ie()),t.$$.dirty[0]&58718208&&l(3,i=({context:v,width:Q,height:ue})=>{const le=window.performance.now();v.clearRect(0,0,Q,ue),v.fillStyle="#080c11",v.fillRect(0,0,Q,ue);const _e={};Object.keys(Mt).forEach(oe=>{const H=Mt[oe],x=jt(H.x,H.y,I,M,S),re=Math.max(...H.orbits);p.indexOf(parseInt(oe))>=0||(re==1?E(v,"PSGroupBackground1",x,!1):re==2?E(v,"PSGroupBackground2",x,!1):(re==3||H.orbits.length>1)&&E(v,"PSGroupBackground3",x,!1,!0))}),Object.keys(tt).forEach(oe=>{var fe;const H=tt[oe],x=qt(H.orbit,H.orbitIndex),re=It(H,I,M,S);(fe=H.out)==null||fe.forEach(He=>{if(!tt[parseInt(He)])return;const Oe=Math.min(parseInt(He),parseInt(oe)),Ge=Math.max(parseInt(He),parseInt(oe)),ce=Oe+":"+Ge;if(ce in _e)return;_e[ce]=!0;const Ie=tt[parseInt(He)];if(!Ie||Ie.isMastery)return;const Ke=qt(Ie.orbit,Ie.orbitIndex),De=It(Ie,I,M,S);if(v.beginPath(),H.group!=Ie.group||H.orbit!=Ie.orbit)v.moveTo(re.x,re.y),v.lineTo(De.x,De.y);else{let Me=Math.PI/180-Math.PI/180*x,Le=Math.PI/180-Math.PI/180*Ke;Me-=Math.PI/2,Le-=Math.PI/2;const at=Math.abs(Math.max(Me,Le)-Math.min(Me,Le)),ct=at>Math.PI?Math.max(Me,Le):Math.min(Me,Le),ht=at>Math.PI?Math.min(Me,Le):Math.max(Me,Le),ot=Mt[H.group],ut=jt(ot.x,ot.y,I,M,S);v.arc(ut.x,ut.y,Xe.constants.orbitRadii[H.orbit]/S+1,ct,ht)}v.lineWidth=6/S,v.strokeStyle="#524518",v.stroke()})});let se;o&&(se=It(tt[o],I,M,S),v.strokeStyle="#ad2b2b");let ge=!1,me;if(Object.keys(tt).forEach(oe=>{const H=tt[oe],x=It(H,I,M,S);let re=0,fe=!1;o&&Jt(x,se)<s&&(fe=!0),c.indexOf(H.skill)>=0&&(fe=!1),H.isKeystone?(re=110,E(v,H.icon,x,fe),fe?E(v,"KeystoneFrameAllocated",x,!1):E(v,"KeystoneFrameUnallocated",x,!1)):H.isNotable?(re=70,E(v,H.icon,x,fe),fe?E(v,"NotableFrameAllocated",x,!1):E(v,"NotableFrameUnallocated",x,!1)):H.isJewelSocket?(re=70,H.expansionJewel?E(v,"JewelSocketAltNormal",x,!1):fe?E(v,"JewelFrameAllocated",x,!1):E(v,"JewelFrameUnallocated",x,!1)):H.isMastery?E(v,H.inactiveIcon,x,fe):(re=50,E(v,H.icon,x,fe),fe?E(v,"PSSkillFrameActive",x,!1):E(v,"PSSkillFrame",x,!1)),(m.indexOf(H.skill)>=0||f&&H.isJewelSocket)&&(v.strokeStyle=`hsl(${n}, 100%, 50%)`,v.lineWidth=3,v.beginPath(),v.arc(x.x,x.y,(re+30)/S,0,Math.PI*2),v.stroke()),Jt(x,z)<re/S&&(me=H,ge=fe)}),l(22,U=me),o&&(v.strokeStyle="#ad2b2b",v.lineWidth=1,v.beginPath(),v.arc(se.x,se.y,s,0,Math.PI*2),v.stroke()),U){let oe=U.name,H=(U.stats||[]).map(ce=>({text:ce,special:!1}));if(!U.isJewelSocket&&ge&&U.skill&&_&&h&&g){const ce=zl.Calculate(te.TreeToPassive[U.skill].Index,_,h,g);ce&&("AlternatePassiveSkill"in ce&&ce.AlternatePassiveSkill&&(H=[],oe=ce.AlternatePassiveSkill.Name,"StatsKeys"in ce.AlternatePassiveSkill&&ce.AlternatePassiveSkill.StatsKeys.forEach((Ie,Ke)=>{const De=te.GetStatByIndex(Ie),Me=Ut[De.ID]||"";Me&&H.push({text:Bt(Me,ce.StatRolls[Ke])||De.ID,special:!0})})),ce.AlternatePassiveAdditionInformations&&ce.AlternatePassiveAdditionInformations.forEach(Ie=>{"StatsKeys"in Ie.AlternatePassiveAddition&&Ie.AlternatePassiveAddition.StatsKeys.forEach((Ke,De)=>{const Me=te.GetStatByIndex(Ke),Le=Ut[Me.ID]||"";Le&&H.push({text:Bt(Le,Ie.StatRolls[De])||Me.ID,special:!0})})}))}v.font=Gt;const x=v.measureText(oe),re=Math.max(x.width+50,600);v.font=Wt;const fe=[],He=30;let Oe=85;H&&H.length>0?H.forEach(ce=>{fe.length>0&&(Oe+=5),ce.text.split(`
`).forEach(Ie=>{fe.length>0&&(Oe+=10),j(Ie,v,re-He).forEach(De=>{fe.push({text:De,offset:Oe,special:ce.special}),Oe+=20})})}):U.isJewelSocket&&(fe.push({text:"Click to select this socket",offset:Oe,special:!0}),Oe+=20);const Ge=55;v.fillStyle="rgba(75,63,24,0.9)",v.fillRect(z.x,z.y,re,Ge),v.fillStyle="#ffffff",v.font=Gt,v.textAlign="center",v.fillText(oe,z.x+re/2,z.y+35),v.fillStyle="rgba(0,0,0,0.8)",v.fillRect(z.x,z.y+Ge,re,Oe-Ge),v.font=Wt,v.textAlign="left",fe.forEach(ce=>{ce.special?v.fillStyle="#8cf34c":v.fillStyle="#ffffff",v.fillText(ce.text,z.x+He/2,z.y+ce.offset)})}U&&U.isJewelSocket?l(2,V="pointer"):l(2,V="unset"),v.fillStyle="#ffffff",v.textAlign="right",v.font="12px Roboto Mono";const Pe=window.performance.now();v.fillText(`${(Pe-le).toFixed(1)}ms`,Q-5,17)})},[B,ne,V,i,d,$,Ce,ze,Se,ie,r,o,h,g,_,m,c,f,S,I,M,z,U,L,s,n,a,u]}class ks extends it{constructor(e){super(),rt(this,e,ws,bs,nt,{clickNode:10,circledNode:11,selectedJewel:12,selectedConqueror:13,seed:14,highlighted:15,disabled:16,highlightJewels:17},null,[-1,-1])}}function Zt(t,e,l){const s=t.slice();return s[7]=e[l],s}function xt(t,e,l){const s=t.slice();return s[10]=e[l],s}function $t(t){let e,l=ft(t[10],t[7].stats[t[10]])+"",s;return{c(){e=A("li"),s=Y(l)},l(i){e=R(i,"LI",{});var n=D(e);s=X(n,l),n.forEach(b)},m(i,n){O(i,e,n),w(e,s)},p(i,n){n&2&&l!==(l=ft(i[10],i[7].stats[i[10]])+"")&&Re(s,l)},d(i){i&&b(e)}}}function el(t){let e,l,s=Xe.nodes[t[7].passive].name+"",i,n,a=t[7].passive+"",u,r,o,h,g,_=Ne(Object.keys(t[7].stats)),m=[];for(let c=0;c<_.length;c+=1)m[c]=$t(xt(t,_,c));return{c(){e=A("div"),l=A("span"),i=Y(s),n=Y(" ("),u=Y(a),r=Y(")"),o=q(),h=A("ul");for(let c=0;c<m.length;c+=1)m[c].c();g=q(),this.h()},l(c){e=R(c,"DIV",{class:!0});var f=D(e);l=R(f,"SPAN",{});var d=D(l);i=X(d,s),n=X(d," ("),u=X(d,a),r=X(d,")"),d.forEach(b),o=J(f),h=R(f,"UL",{class:!0});var p=D(h);for(let S=0;S<m.length;S+=1)m[S].l(p);p.forEach(b),g=J(f),f.forEach(b),this.h()},h(){T(h,"class","list-disc pl-6 font-bold"),T(e,"class","mt-2")},m(c,f){O(c,e,f),w(e,l),w(l,i),w(l,n),w(l,u),w(l,r),w(e,o),w(e,h);for(let d=0;d<m.length;d+=1)m[d]&&m[d].m(h,null);w(e,g)},p(c,f){if(f&2&&s!==(s=Xe.nodes[c[7].passive].name+"")&&Re(i,s),f&2&&a!==(a=c[7].passive+"")&&Re(u,a),f&2){_=Ne(Object.keys(c[7].stats));let d;for(d=0;d<_.length;d+=1){const p=xt(c,_,d);m[d]?m[d].p(p,f):(m[d]=$t(p),m[d].c(),m[d].m(h,null))}for(;d<m.length;d+=1)m[d].d(1);m.length=_.length}},d(c){c&&b(e),st(m,c)}}}function Ss(t){let e,l,s,i,n=t[1].seed+"",a,u,r=t[1].weight+"",o,h,g,_,m,c="Trade",f,d,p="Trade-CN",S,I,M,N=Ne(t[1].skills),y=[];for(let E=0;E<N.length;E+=1)y[E]=el(Zt(t,N,E));return{c(){e=A("div"),l=A("div"),s=A("div"),i=Y("Seed "),a=Y(n),u=Y(" (weight "),o=Y(r),h=Y(")"),g=q(),_=A("div"),m=A("button"),m.textContent=c,f=q(),d=A("button"),d.textContent=p,S=q();for(let E=0;E<y.length;E+=1)y[E].c();this.h()},l(E){e=R(E,"DIV",{class:!0});var j=D(e);l=R(j,"DIV",{class:!0});var z=D(l);s=R(z,"DIV",{class:!0});var V=D(s);i=X(V,"Seed "),a=X(V,n),u=X(V," (weight "),o=X(V,r),h=X(V,")"),V.forEach(b),g=J(z),_=R(z,"DIV",{});var U=D(_);m=R(U,"BUTTON",{class:!0,"data-svelte-h":!0}),pe(m)!=="svelte-1qphc87"&&(m.textContent=c),f=J(U),d=R(U,"BUTTON",{class:!0,"data-svelte-h":!0}),pe(d)!=="svelte-esqr6s"&&(d.textContent=p),U.forEach(b),z.forEach(b),S=J(j);for(let W=0;W<y.length;W+=1)y[W].l(j);j.forEach(b),this.h()},h(){T(s,"class","font-bold text-orange-500 text-center"),T(m,"class","px-3 bg-blue-500/40 rounded mr-2"),T(d,"class","px-3 bg-blue-500/40 rounded mr-2"),T(l,"class","flex flex-row justify-between"),T(e,"class","my-2 border-white/50 border p-2 flex flex-col cursor-pointer")},m(E,j){O(E,e,j),w(e,l),w(l,s),w(s,i),w(s,a),w(s,u),w(s,o),w(s,h),w(l,g),w(l,_),w(_,m),w(_,f),w(_,d),w(e,S);for(let z=0;z<y.length;z+=1)y[z]&&y[z].m(e,null);I||(M=[C(m,"click",t[4]),C(d,"click",t[5]),C(e,"click",t[6])],I=!0)},p(E,[j]){if(j&2&&n!==(n=E[1].seed+"")&&Re(a,n),j&2&&r!==(r=E[1].weight+"")&&Re(o,r),j&2){N=Ne(E[1].skills);let z;for(z=0;z<N.length;z+=1){const V=Zt(E,N,z);y[z]?y[z].p(V,j):(y[z]=el(V),y[z].c(),y[z].m(e,null))}for(;z<y.length;z+=1)y[z].d(1);y.length=N.length}},i:Ze,o:Ze,d(E){E&&b(e),st(y,E),I=!1,xe(M)}}}function Is(t,e,l){let{highlight:s}=e,{set:i}=e,{jewel:n}=e,{conqueror:a}=e;const u=()=>Ht(n,a,[i]),r=()=>Ht(n,a,[i],"cn"),o=()=>s(i.seed,i.skills.map(h=>h.passive));return t.$$set=h=>{"highlight"in h&&l(0,s=h.highlight),"set"in h&&l(1,i=h.set),"jewel"in h&&l(2,n=h.jewel),"conqueror"in h&&l(3,a=h.conqueror)},[s,i,n,a,u,r,o]}class Vl extends it{constructor(e){super(),rt(this,e,Is,Ss,nt,{highlight:0,set:1,jewel:2,conqueror:3})}}const yt={AUTO:"auto",START:"start",CENTER:"center",END:"end"},Qe={HORIZONTAL:"horizontal",VERTICAL:"vertical"},gt={OBSERVED:0,REQUESTED:1},ys={[Qe.VERTICAL]:"top",[Qe.HORIZONTAL]:"left"},tl={[Qe.VERTICAL]:"scrollTop",[Qe.HORIZONTAL]:"scrollLeft"};class Es{constructor({itemSize:e,itemCount:l,estimatedItemSize:s}){this.itemSize=e,this.itemCount=l,this.estimatedItemSize=s,this.itemSizeAndPositionData={},this.lastMeasuredIndex=-1,this.checkForMismatchItemSizeAndItemCount(),this.justInTime||this.computeTotalSizeAndPositionData()}get justInTime(){return typeof this.itemSize=="function"}updateConfig({itemSize:e,itemCount:l,estimatedItemSize:s}){l!=null&&(this.itemCount=l),s!=null&&(this.estimatedItemSize=s),e!=null&&(this.itemSize=e),this.checkForMismatchItemSizeAndItemCount(),this.justInTime&&this.totalSize!=null?this.totalSize=void 0:this.computeTotalSizeAndPositionData()}checkForMismatchItemSizeAndItemCount(){if(Array.isArray(this.itemSize)&&this.itemSize.length<this.itemCount)throw Error("When itemSize is an array, itemSize.length can't be smaller than itemCount")}getSize(e){const{itemSize:l}=this;return typeof l=="function"?l(e):Array.isArray(l)?l[e]:l}computeTotalSizeAndPositionData(){let e=0;for(let l=0;l<this.itemCount;l++){const s=this.getSize(l),i=e;e+=s,this.itemSizeAndPositionData[l]={offset:i,size:s}}this.totalSize=e}getLastMeasuredIndex(){return this.lastMeasuredIndex}getSizeAndPositionForIndex(e){if(e<0||e>=this.itemCount)throw Error(`Requested index ${e} is outside of range 0..${this.itemCount}`);return this.justInTime?this.getJustInTimeSizeAndPositionForIndex(e):this.itemSizeAndPositionData[e]}getJustInTimeSizeAndPositionForIndex(e){if(e>this.lastMeasuredIndex){const l=this.getSizeAndPositionOfLastMeasuredItem();let s=l.offset+l.size;for(let i=this.lastMeasuredIndex+1;i<=e;i++){const n=this.getSize(i);if(n==null||isNaN(n))throw Error(`Invalid size returned for index ${i} of value ${n}`);this.itemSizeAndPositionData[i]={offset:s,size:n},s+=n}this.lastMeasuredIndex=e}return this.itemSizeAndPositionData[e]}getSizeAndPositionOfLastMeasuredItem(){return this.lastMeasuredIndex>=0?this.itemSizeAndPositionData[this.lastMeasuredIndex]:{offset:0,size:0}}getTotalSize(){if(this.totalSize)return this.totalSize;const e=this.getSizeAndPositionOfLastMeasuredItem();return e.offset+e.size+(this.itemCount-this.lastMeasuredIndex-1)*this.estimatedItemSize}getUpdatedOffsetForIndex({align:e=yt.START,containerSize:l,currentOffset:s,targetIndex:i}){if(l<=0)return 0;const n=this.getSizeAndPositionForIndex(i),a=n.offset,u=a-l+n.size;let r;switch(e){case yt.END:r=u;break;case yt.CENTER:r=a-(l-n.size)/2;break;case yt.START:r=a;break;default:r=Math.max(u,Math.min(a,s))}const o=this.getTotalSize();return Math.max(0,Math.min(o-l,r))}getVisibleRange({containerSize:e=0,offset:l,overscanCount:s}){if(this.getTotalSize()===0)return{};const n=l+e;let a=this.findNearestItem(l);if(a===void 0)throw Error(`Invalid offset ${l} specified`);const u=this.getSizeAndPositionForIndex(a);l=u.offset+u.size;let r=a;for(;l<n&&r<this.itemCount-1;)r++,l+=this.getSizeAndPositionForIndex(r).size;return s&&(a=Math.max(0,a-s),r=Math.min(r+s,this.itemCount-1)),{start:a,stop:r}}resetItem(e){this.lastMeasuredIndex=Math.min(this.lastMeasuredIndex,e-1)}findNearestItem(e){if(isNaN(e))throw Error(`Invalid offset ${e} specified`);e=Math.max(0,e);const l=this.getSizeAndPositionOfLastMeasuredItem(),s=Math.max(0,this.lastMeasuredIndex);return l.offset>=e?this.binarySearch({high:s,low:0,offset:e}):this.exponentialSearch({index:s,offset:e})}binarySearch({low:e,high:l,offset:s}){let i=0,n=0;for(;e<=l;){if(i=e+Math.floor((l-e)/2),n=this.getSizeAndPositionForIndex(i).offset,n===s)return i;n<s?e=i+1:n>s&&(l=i-1)}return e>0?e-1:0}exponentialSearch({index:e,offset:l}){let s=1;for(;e<this.itemCount&&this.getSizeAndPositionForIndex(e).offset<l;)e+=s,s*=2;return this.binarySearch({high:Math.min(e,this.itemCount-1),low:Math.floor(e/2),offset:l})}}const Ts=t=>({}),ll=t=>({});function sl(t,e,l){const s=t.slice();return s[37]=e[l],s}const Cs=t=>({style:t[0]&4,index:t[0]&4}),nl=t=>({style:t[37].style,index:t[37].index}),As=t=>({}),il=t=>({});function rl(t,e){let l,s;const i=e[21].item,n=pt(i,e,e[20],nl);return{key:t,first:null,c(){l=we(),n&&n.c(),this.h()},l(a){l=we(),n&&n.l(a),this.h()},h(){this.first=l},m(a,u){O(a,l,u),n&&n.m(a,u),s=!0},p(a,u){e=a,n&&n.p&&(!s||u[0]&1048580)&&vt(n,i,e,e[20],s?wt(i,e[20],u,Cs):bt(e[20]),nl)},i(a){s||(F(n,a),s=!0)},o(a){G(n,a),s=!1},d(a){a&&b(l),n&&n.d(a)}}}function Rs(t){let e,l,s,i=[],n=new Map,a,u;const r=t[21].header,o=pt(r,t,t[20],il);let h=Ne(t[2]);const g=c=>c[0]?c[0](c[37].index):c[37].index;for(let c=0;c<h.length;c+=1){let f=sl(t,h,c),d=g(f);n.set(d,i[c]=rl(d,f))}const _=t[21].footer,m=pt(_,t,t[20],ll);return{c(){e=A("div"),o&&o.c(),l=q(),s=A("div");for(let c=0;c<i.length;c+=1)i[c].c();a=q(),m&&m.c(),this.h()},l(c){e=R(c,"DIV",{class:!0,style:!0});var f=D(e);o&&o.l(f),l=J(f),s=R(f,"DIV",{class:!0,style:!0});var d=D(s);for(let p=0;p<i.length;p+=1)i[p].l(d);d.forEach(b),a=J(f),m&&m.l(f),f.forEach(b),this.h()},h(){T(s,"class","virtual-list-inner svelte-1d4hv8l"),T(s,"style",t[4]),T(e,"class","virtual-list-wrapper svelte-1d4hv8l"),T(e,"style",t[3])},m(c,f){O(c,e,f),o&&o.m(e,null),w(e,l),w(e,s);for(let d=0;d<i.length;d+=1)i[d]&&i[d].m(s,null);w(e,a),m&&m.m(e,null),t[22](e),u=!0},p(c,f){o&&o.p&&(!u||f[0]&1048576)&&vt(o,r,c,c[20],u?wt(r,c[20],f,As):bt(c[20]),il),f[0]&1048581&&(h=Ne(c[2]),je(),i=Kl(i,f,g,1,c,h,n,s,Yl,rl,null,sl),qe()),(!u||f[0]&16)&&T(s,"style",c[4]),m&&m.p&&(!u||f[0]&1048576)&&vt(m,_,c,c[20],u?wt(_,c[20],f,Ts):bt(c[20]),ll),(!u||f[0]&8)&&T(e,"style",c[3])},i(c){if(!u){F(o,c);for(let f=0;f<h.length;f+=1)F(i[f]);F(m,c),u=!0}},o(c){G(o,c);for(let f=0;f<i.length;f+=1)G(i[f]);G(m,c),u=!1},d(c){c&&b(e),o&&o.d(c);for(let f=0;f<i.length;f+=1)i[f].d();m&&m.d(c),t[22](null)}}}const Ps=(()=>{let t=!1;try{const e=Object.defineProperty({},"passive",{get(){return t={passive:!0},!0}});window.addEventListener("testpassive",e,e),window.remove("testpassive",e,e)}catch{}return t})();function Ms(t,e,l){let{$$slots:s={},$$scope:i}=e,{height:n}=e,{width:a="100%"}=e,{itemCount:u}=e,{itemSize:r}=e,{estimatedItemSize:o=null}=e,{stickyIndices:h=null}=e,{getKey:g=null}=e,{scrollDirection:_=Qe.VERTICAL}=e,{scrollOffset:m=null}=e,{scrollToIndex:c=null}=e,{scrollToAlignment:f=null}=e,{scrollToBehaviour:d="instant"}=e,{overscanCount:p=3}=e;const S=Pl(),I=new Es({itemCount:u,itemSize:r,estimatedItemSize:B()});let M=!1,N,y=[],E={offset:m||c!=null&&y.length&&Ce(c)||0,scrollChangeReason:gt.REQUESTED},j=E,z={scrollToIndex:c,scrollToAlignment:f,scrollOffset:m,itemCount:u,itemSize:r,estimatedItemSize:o},V={},U="",W="";ke(),Rl(()=>{l(18,M=!0),N.addEventListener("scroll",ze,Ps),m!=null?ae(m):c!=null&&ae(Ce(c))}),Nt(()=>{M&&N.removeEventListener("scroll",ze)});function Z(){if(!M)return;const L=z.scrollToIndex!==c||z.scrollToAlignment!==f,v=z.itemCount!==u||z.itemSize!==r||z.estimatedItemSize!==o;v&&(I.updateConfig({itemSize:r,itemCount:u,estimatedItemSize:B()}),$()),z.scrollOffset!==m?l(19,E={offset:m||0,scrollChangeReason:gt.REQUESTED}):typeof c=="number"&&(L||v)&&l(19,E={offset:Ce(c,f,u),scrollChangeReason:gt.REQUESTED}),z={scrollToIndex:c,scrollToAlignment:f,scrollOffset:m,itemCount:u,itemSize:r,estimatedItemSize:o}}function he(){if(!M)return;const{offset:L,scrollChangeReason:v}=E;(j.offset!==L||j.scrollChangeReason!==v)&&ke(),j.offset!==L&&v===gt.REQUESTED&&ae(L),j=E}function ke(){const{offset:L}=E,{start:v,stop:Q}=I.getVisibleRange({containerSize:_===Qe.VERTICAL?n:a,offset:L,overscanCount:p});let ue=[];const le=I.getTotalSize();_===Qe.VERTICAL?(l(3,U=`height:${n}px;width:${a};`),l(4,W=`flex-direction:column;height:${le}px;`)):(l(3,U=`height:${n};width:${a}px`),l(4,W=`min-height:100%;width:${le}px;`));const _e=h!=null&&h.length!==0;if(_e)for(let se=0;se<h.length;se++){const ge=h[se];ue.push({index:ge,style:ne(ge,!0)})}if(v!==void 0&&Q!==void 0){for(let se=v;se<=Q;se++)_e&&h.includes(se)||ue.push({index:se,style:ne(se,!1)});S("itemsUpdated",{start:v,end:Q})}l(2,y=ue)}function ae(L){"scroll"in N?N.scroll({[ys[_]]:L,behavior:d}):l(1,N[tl[_]]=L,N)}function $(L=0){V={},I.resetItem(L),ke()}function Ce(L,v=f,Q=u){return(L<0||L>=Q)&&(L=0),I.getUpdatedOffsetForIndex({align:v,containerSize:_===Qe.VERTICAL?n:a,currentOffset:E.offset||0,targetIndex:L})}function ze(L){const v=Se();v<0||E.offset===v||L.target!==N||(l(19,E={offset:v,scrollChangeReason:gt.OBSERVED}),S("afterScroll",{offset:v,event:L}))}function Se(){return N[tl[_]]}function B(){return o||typeof r=="number"&&r||50}function ne(L,v){if(V[L])return V[L];const{size:Q,offset:ue}=I.getSizeAndPositionForIndex(L);let le;return _===Qe.VERTICAL?(le=`left:0;width:100%;height:${Q}px;`,v?le+=`position:sticky;flex-grow:0;z-index:1;top:0;margin-top:${ue}px;margin-bottom:${-(ue+Q)}px;`:le+=`position:absolute;top:${ue}px;`):(le=`top:0;width:${Q}px;`,v?le+=`position:sticky;z-index:1;left:0;margin-left:${ue}px;margin-right:${-(ue+Q)}px;`:le+=`position:absolute;height:100%;left:${ue}px;`),V[L]=le}function ie(L){lt[L?"unshift":"push"](()=>{N=L,l(1,N)})}return t.$$set=L=>{"height"in L&&l(5,n=L.height),"width"in L&&l(6,a=L.width),"itemCount"in L&&l(7,u=L.itemCount),"itemSize"in L&&l(8,r=L.itemSize),"estimatedItemSize"in L&&l(9,o=L.estimatedItemSize),"stickyIndices"in L&&l(10,h=L.stickyIndices),"getKey"in L&&l(0,g=L.getKey),"scrollDirection"in L&&l(11,_=L.scrollDirection),"scrollOffset"in L&&l(12,m=L.scrollOffset),"scrollToIndex"in L&&l(13,c=L.scrollToIndex),"scrollToAlignment"in L&&l(14,f=L.scrollToAlignment),"scrollToBehaviour"in L&&l(15,d=L.scrollToBehaviour),"overscanCount"in L&&l(16,p=L.overscanCount),"$$scope"in L&&l(20,i=L.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&29568&&Z(),t.$$.dirty[0]&524288&&he(),t.$$.dirty[0]&263264&&M&&$(0)},[g,N,y,U,W,n,a,u,r,o,h,_,m,c,f,d,p,$,M,E,i,s,ie]}class jl extends it{constructor(e){super(),rt(this,e,Ms,Rs,nt,{height:5,width:6,itemCount:7,itemSize:8,estimatedItemSize:9,stickyIndices:10,getKey:0,scrollDirection:11,scrollOffset:12,scrollToIndex:13,scrollToAlignment:14,scrollToBehaviour:15,overscanCount:16,recomputeSizes:17},null,[-1,-1])}get recomputeSizes(){return this.$$.ctx[17]}}function al(t,e,l){const s=t.slice();return s[9]=e[l],s}function zs(t){let e,l,s;return l=new jl({props:{height:"auto",overscanCount:15,itemCount:t[0].raw.length,itemSize:t[0].raw.map(t[6]),$$slots:{item:[Ls,({style:i,index:n})=>({12:i,13:n}),({style:i,index:n})=>(i?4096:0)|(n?8192:0)]},$$scope:{ctx:t}}}),{c(){e=A("div"),Je(l.$$.fragment),this.h()},l(i){e=R(i,"DIV",{class:!0});var n=D(e);Ue(l.$$.fragment,n),n.forEach(b),this.h()},h(){T(e,"class","mt-4 flex flex-col overflow-auto")},m(i,n){O(i,e,n),Be(l,e,null),s=!0},p(i,n){const a={};n&1&&(a.itemCount=i[0].raw.length),n&1&&(a.itemSize=i[0].raw.map(i[6])),n&28699&&(a.$$scope={dirty:n,ctx:i}),l.$set(a)},i(i){s||(F(l.$$.fragment,i),s=!0)},o(i){G(l.$$.fragment,i),s=!1},d(i){i&&b(e),Fe(l)}}}function Ns(t){let e,l,s=Ne(Object.keys(t[0].grouped).map(t[7]).sort(fl).reverse()),i=[];for(let a=0;a<s.length;a+=1)i[a]=ul(al(t,s,a));const n=a=>G(i[a],1,1,()=>{i[a]=null});return{c(){e=A("div");for(let a=0;a<i.length;a+=1)i[a].c();this.h()},l(a){e=R(a,"DIV",{class:!0});var u=D(e);for(let r=0;r<i.length;r+=1)i[r].l(u);u.forEach(b),this.h()},h(){T(e,"class","flex flex-col overflow-auto")},m(a,u){O(a,e,u);for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(e,null);l=!0},p(a,u){if(u&12411){s=Ne(Object.keys(a[0].grouped).map(a[7]).sort(fl).reverse());let r;for(r=0;r<s.length;r+=1){const o=al(a,s,r);i[r]?(i[r].p(o,u),F(i[r],1)):(i[r]=ul(o),i[r].c(),F(i[r],1),i[r].m(e,null))}for(je(),r=s.length;r<i.length;r+=1)n(r);qe()}},i(a){if(!l){for(let u=0;u<s.length;u+=1)F(i[u]);l=!0}},o(a){i=i.filter(Boolean);for(let u=0;u<i.length;u+=1)G(i[u]);l=!1},d(a){a&&b(e),st(i,a)}}}function Ls(t){let e,l,s,i;return l=new Vl({props:{set:t[0].raw[t[13]],highlight:t[1],jewel:t[3],conqueror:t[4]}}),{c(){e=A("div"),Je(l.$$.fragment),this.h()},l(n){e=R(n,"DIV",{slot:!0,style:!0});var a=D(e);Ue(l.$$.fragment,a),a.forEach(b),this.h()},h(){T(e,"slot","item"),T(e,"style",s=t[12])},m(n,a){O(n,e,a),Be(l,e,null),i=!0},p(n,a){const u={};a&8193&&(u.set=n[0].raw[n[13]]),a&2&&(u.highlight=n[1]),a&8&&(u.jewel=n[3]),a&16&&(u.conqueror=n[4]),l.$set(u),(!i||a&4096&&s!==(s=n[12]))&&T(e,"style",s)},i(n){i||(F(l.$$.fragment,n),i=!0)},o(n){G(l.$$.fragment,n),i=!1},d(n){n&&b(e),Fe(l)}}}function ol(t){let e,l,s,i;return l=new jl({props:{height:"auto",overscanCount:10,itemCount:t[0].grouped[t[9]].length,itemSize:t[0].grouped[t[9]].map(t[6]),$$slots:{item:[Os,({style:n,index:a})=>({12:n,13:a}),({style:n,index:a})=>(n?4096:0)|(a?8192:0)]},$$scope:{ctx:t}}}),{c(){e=A("div"),Je(l.$$.fragment),s=q(),this.h()},l(n){e=R(n,"DIV",{class:!0});var a=D(e);Ue(l.$$.fragment,a),s=J(a),a.forEach(b),this.h()},h(){T(e,"class","flex flex-col overflow-auto min-h-[200px] mb-2")},m(n,a){O(n,e,a),Be(l,e,null),w(e,s),i=!0},p(n,a){const u={};a&1&&(u.itemCount=n[0].grouped[n[9]].length),a&1&&(u.itemSize=n[0].grouped[n[9]].map(n[6])),a&28699&&(u.$$scope={dirty:a,ctx:n}),l.$set(u)},i(n){i||(F(l.$$.fragment,n),i=!0)},o(n){G(l.$$.fragment,n),i=!1},d(n){n&&b(e),Fe(l)}}}function Os(t){let e,l,s,i;return l=new Vl({props:{set:t[0].grouped[t[9]][t[13]],highlight:t[1],jewel:t[3],conqueror:t[4]}}),{c(){e=A("div"),Je(l.$$.fragment),this.h()},l(n){e=R(n,"DIV",{slot:!0,style:!0});var a=D(e);Ue(l.$$.fragment,a),a.forEach(b),this.h()},h(){T(e,"slot","item"),T(e,"style",s=t[12])},m(n,a){O(n,e,a),Be(l,e,null),i=!0},p(n,a){const u={};a&8193&&(u.set=n[0].grouped[n[9]][n[13]]),a&2&&(u.highlight=n[1]),a&8&&(u.jewel=n[3]),a&16&&(u.conqueror=n[4]),l.$set(u),(!i||a&4096&&s!==(s=n[12]))&&T(e,"style",s)},i(n){i||(F(l.$$.fragment,n),i=!0)},o(n){G(l.$$.fragment,n),i=!1},d(n){n&&b(e),Fe(l)}}}function ul(t){let e,l,s=t[9]+"",i,n,a=t[9]>1?"es":"",u,r,o=t[0].grouped[t[9]].length+"",h,g,_,m,c=t[5]===t[9]?"^":"V",f,d,p,S,I,M;function N(){return t[8](t[9])}let y=t[5]===t[9]&&ol(t);return{c(){e=A("button"),l=A("span"),i=Y(s),n=Y(" Match"),u=Y(a),r=Y(" ["),h=Y(o),g=Y("]"),_=q(),m=A("span"),f=Y(c),d=q(),y&&y.c(),p=we(),this.h()},l(E){e=R(E,"BUTTON",{class:!0});var j=D(e);l=R(j,"SPAN",{});var z=D(l);i=X(z,s),n=X(z," Match"),u=X(z,a),r=X(z," ["),h=X(z,o),g=X(z,"]"),z.forEach(b),_=J(j),m=R(j,"SPAN",{});var V=D(m);f=X(V,c),V.forEach(b),j.forEach(b),d=J(E),y&&y.l(E),p=we(),this.h()},h(){T(e,"class","text-lg w-full p-2 px-4 bg-neutral-500/30 rounded flex flex-row justify-between mb-2")},m(E,j){O(E,e,j),w(e,l),w(l,i),w(l,n),w(l,u),w(l,r),w(l,h),w(l,g),w(e,_),w(e,m),w(m,f),O(E,d,j),y&&y.m(E,j),O(E,p,j),S=!0,I||(M=C(e,"click",N),I=!0)},p(E,j){t=E,(!S||j&1)&&s!==(s=t[9]+"")&&Re(i,s),(!S||j&1)&&a!==(a=t[9]>1?"es":"")&&Re(u,a),(!S||j&1)&&o!==(o=t[0].grouped[t[9]].length+"")&&Re(h,o),(!S||j&33)&&c!==(c=t[5]===t[9]?"^":"V")&&Re(f,c),t[5]===t[9]?y?(y.p(t,j),j&33&&F(y,1)):(y=ol(t),y.c(),F(y,1),y.m(p.parentNode,p)):y&&(je(),G(y,1,1,()=>{y=null}),qe())},i(E){S||(F(y),S=!0)},o(E){G(y),S=!1},d(E){E&&(b(e),b(d),b(p)),y&&y.d(E),I=!1,M()}}}function Ds(t){let e,l,s,i;const n=[Ns,zs],a=[];function u(r,o){return r[2]?0:1}return e=u(t),l=a[e]=n[e](t),{c(){l.c(),s=we()},l(r){l.l(r),s=we()},m(r,o){a[e].m(r,o),O(r,s,o),i=!0},p(r,[o]){let h=e;e=u(r),e===h?a[e].p(r,o):(je(),G(a[h],1,1,()=>{a[h]=null}),qe(),l=a[e],l?l.p(r,o):(l=a[e]=n[e](r),l.c()),F(l,1),l.m(s.parentNode,s))},i(r){i||(F(l),i=!0)},o(r){G(l),i=!1},d(r){r&&b(s),a[e].d(r)}}}const fl=(t,e)=>t-e;function Vs(t,e,l){let{searchResults:s}=e,{highlight:i}=e,{groupResults:n=!0}=e,{jewel:a}=e,{conqueror:u}=e;const r=_=>8+48+_.skills.reduce((m,c)=>m+32+Object.keys(c.stats).length*24,0);let o="";const h=_=>parseInt(_),g=_=>l(5,o=o===_?"":_);return t.$$set=_=>{"searchResults"in _&&l(0,s=_.searchResults),"highlight"in _&&l(1,i=_.highlight),"groupResults"in _&&l(2,n=_.groupResults),"jewel"in _&&l(3,a=_.jewel),"conqueror"in _&&l(4,u=_.conqueror)},[s,i,n,a,u,o,r,h,g]}class js extends it{constructor(e){super(),rt(this,e,Vs,Ds,nt,{searchResults:0,highlight:1,groupResults:2,jewel:3,conqueror:4})}}const et={25:1,26:1,42:1,49:1,56:1,63:1,70:2,95:4,117:1,124:4,134:1,150:2,216:1,434:1,482:1,483:1,484:1,488:1,554:1,556:1,593:3,594:3,595:3,619:1,943:1,944:1,945:1,946:1,2133:4,3108:3,3109:4,3110:4,3111:4,5815:4,8835:1,9091:1,9772:1,14775:2,209:1,447:1,573:2,1294:1,1361:1,2031:5,8177:2,448:2,486:1,579:2,1404:1,2030:5,9090:1,9711:2,9712:2,9713:2,9714:2,9716:1,9717:1,9718:1,9721:1,9722:1,9723:1,9724:1,186:2,490:1,1251:3,1654:1,3392:1,6042:1,6048:1,6049:1,6050:1,6136:1,7499:2};const{window:qs}=Nl;function cl(t,e,l){const s=t.slice();return s[84]=e[l],s[85]=e,s[86]=l,s}function hl(t,e,l){const s=t.slice();return s[77]=e[l],s}function dl(t,e,l){const s=t.slice();return s[77]=e[l],s}function ml(t,e,l){const s=t.slice();return s[77]=e[l],s}function Js(t){let e,l="<div></div> <div></div> <div></div>",s,i;return{c(){e=A("button"),e.innerHTML=l,this.h()},l(n){e=R(n,"BUTTON",{class:!0,"data-svelte-h":!0}),pe(e)!=="svelte-rq6e1l"&&(e.innerHTML=l),this.h()},h(){T(e,"class","burger-menu absolute top-0 left-0 bg-black/80 backdrop-blur-sm rounded-br-lg p-4 pt-5")},m(n,a){O(n,e,a),s||(i=C(e,"click",t[72]),s=!0)},p:Ze,i:Ze,o:Ze,d(n){n&&b(e),s=!1,i()}}}function Us(t){let e,l,s,i,n,a="<div></div> <div></div> <div></div>",u,r,o,h,g,_,m,c;function f(N,y){return N[14]?Fs:Bs}let d=f(t),p=d(t),S=t[18]&&_l(t),I=!t[14]&&pl(t),M=t[18]&&t[14]&&Al(t);return{c(){e=A("div"),l=A("div"),s=A("div"),i=A("div"),n=A("button"),n.innerHTML=a,u=q(),r=A("h3"),p.c(),o=q(),S&&S.c(),h=q(),I&&I.c(),g=q(),M&&M.c(),this.h()},l(N){e=R(N,"DIV",{class:!0});var y=D(e);l=R(y,"DIV",{class:!0});var E=D(l);s=R(E,"DIV",{class:!0});var j=D(s);i=R(j,"DIV",{class:!0});var z=D(i);n=R(z,"BUTTON",{class:!0,"data-svelte-h":!0}),pe(n)!=="svelte-mvbl10"&&(n.innerHTML=a),u=J(z),r=R(z,"H3",{class:!0});var V=D(r);p.l(V),V.forEach(b),z.forEach(b),o=J(j),S&&S.l(j),j.forEach(b),h=J(E),I&&I.l(E),g=J(E),M&&M.l(E),E.forEach(b),y.forEach(b),this.h()},h(){T(n,"class","burger-menu mr-3"),T(r,"class","flex-grow"),T(i,"class","flex flex-row items-center"),T(s,"class","flex flex-row justify-between mb-2"),T(l,"class","p-4 max-h-screen flex flex-col"),T(e,"class","w-screen md:w-10/12 lg:w-2/3 xl:w-1/2 2xl:w-5/12 3xl:w-1/3 4xl:w-1/4 absolute top-0 left-0 bg-black/80 backdrop-blur-sm themed rounded-br-lg max-h-screen")},m(N,y){O(N,e,y),w(e,l),w(l,s),w(s,i),w(i,n),w(i,u),w(i,r),p.m(r,null),w(s,o),S&&S.m(s,null),w(l,h),I&&I.m(l,null),w(l,g),M&&M.m(l,null),_=!0,m||(c=C(n,"click",t[47]),m=!0)},p(N,y){d!==(d=f(N))&&(p.d(1),p=d(N),p&&(p.c(),p.m(r,null))),N[18]?S?S.p(N,y):(S=_l(N),S.c(),S.m(s,null)):S&&(S.d(1),S=null),N[14]?I&&(je(),G(I,1,1,()=>{I=null}),qe()):I?(I.p(N,y),y[0]&16384&&F(I,1)):(I=pl(N),I.c(),F(I,1),I.m(l,g)),N[18]&&N[14]?M?(M.p(N,y),y[0]&278528&&F(M,1)):(M=Al(N),M.c(),F(M,1),M.m(l,null)):M&&(je(),G(M,1,1,()=>{M=null}),qe())},i(N){_||(F(I),F(M),_=!0)},o(N){G(I),G(M),_=!1},d(N){N&&b(e),p.d(),S&&S.d(),I&&I.d(),M&&M.d(),m=!1,c()}}}function Bs(t){let e,l="Timeless Jewel";return{c(){e=A("span"),e.textContent=l},l(s){e=R(s,"SPAN",{"data-svelte-h":!0}),pe(e)!=="svelte-ddxked"&&(e.textContent=l)},m(s,i){O(s,e,i)},d(s){s&&b(e)}}}function Fs(t){let e,l="Results";return{c(){e=A("span"),e.textContent=l},l(s){e=R(s,"SPAN",{"data-svelte-h":!0}),pe(e)!=="svelte-rq68qg"&&(e.textContent=l)},m(s,i){O(s,e,i)},d(s){s&&b(e)}}}function _l(t){let e,l,s,i=t[14]?"Config":"Results",n,a,u,r=t[14]&&gl(t);return{c(){e=A("div"),r&&r.c(),l=q(),s=A("button"),n=Y(i),this.h()},l(o){e=R(o,"DIV",{class:!0});var h=D(e);r&&r.l(h),l=J(h),s=R(h,"BUTTON",{class:!0});var g=D(s);n=X(g,i),g.forEach(b),h.forEach(b),this.h()},h(){T(s,"class","bg-neutral-100/20 px-4 p-1 rounded search svelte-1fekgnt"),T(e,"class","flex flex-row")},m(o,h){O(o,e,h),r&&r.m(e,null),w(e,l),w(e,s),w(s,n),a||(u=C(s,"click",t[54]),a=!0)},p(o,h){o[14]?r?r.p(o,h):(r=gl(o),r.c(),r.m(e,l)):r&&(r.d(1),r=null),h[0]&16384&&i!==(i=o[14]?"Config":"Results")&&Re(n,i)},d(o){o&&b(e),r&&r.d(),a=!1,u()}}}function gl(t){let e,l,s,i,n,a,u,r,o,h,g,_,m,c,f,d,p,S,I,M,N;return{c(){e=A("input"),l=q(),s=A("input"),i=q(),n=A("button"),a=Y("Multi"),r=q(),o=A("button"),h=Y("Trade"),_=q(),m=A("button"),c=Y("TradeCN"),d=q(),p=A("button"),S=Y("Grouped"),this.h()},l(y){e=R(y,"INPUT",{class:!0}),l=J(y),s=R(y,"INPUT",{class:!0}),i=J(y),n=R(y,"BUTTON",{class:!0});var E=D(n);a=X(E,"Multi"),E.forEach(b),r=J(y),o=R(y,"BUTTON",{class:!0});var j=D(o);h=X(j,"Trade"),j.forEach(b),_=J(y),m=R(y,"BUTTON",{class:!0});var z=D(m);c=X(z,"TradeCN"),z.forEach(b),d=J(y),p=R(y,"BUTTON",{class:!0});var V=D(p);S=X(V,"Grouped"),V.forEach(b),this.h()},h(){T(e,"class","p-1 px-3 rounded mr-2 search svelte-1fekgnt"),T(s,"class","p-1 px-3 rounded mr-2 search svelte-1fekgnt"),T(n,"class","p-1 px-3 bg-blue-500/40 rounded disabled:bg-blue-900/40 mr-2 search svelte-1fekgnt"),n.disabled=u=!t[18],de(n,"single",!t[6]),T(o,"class","p-1 px-3 bg-blue-500/40 rounded disabled:bg-blue-900/40 mr-2 search svelte-1fekgnt"),o.disabled=g=!t[18],T(m,"class","p-1 px-3 bg-blue-500/40 rounded disabled:bg-blue-900/40 mr-2 search svelte-1fekgnt"),m.disabled=f=!t[18],T(p,"class","p-1 px-3 bg-blue-500/40 rounded disabled:bg-blue-900/40 mr-2 search svelte-1fekgnt"),p.disabled=I=!t[18],de(p,"grouped",t[5])},m(y,E){O(y,e,E),Ve(e,t[22]),O(y,l,E),O(y,s,E),Ve(s,t[23]),O(y,i,E),O(y,n,E),w(n,a),O(y,r,E),O(y,o,E),w(o,h),O(y,_,E),O(y,m,E),w(m,c),O(y,d,E),O(y,p,E),w(p,S),M||(N=[C(e,"input",t[48]),C(s,"input",t[49]),C(n,"click",t[50]),C(o,"click",t[51]),C(m,"click",t[52]),C(p,"click",t[53])],M=!0)},p(y,E){E[0]&4194304&&e.value!==y[22]&&Ve(e,y[22]),E[0]&8388608&&s.value!==y[23]&&Ve(s,y[23]),E[0]&262144&&u!==(u=!y[18])&&(n.disabled=u),E[0]&64&&de(n,"single",!y[6]),E[0]&262144&&g!==(g=!y[18])&&(o.disabled=g),E[0]&262144&&f!==(f=!y[18])&&(m.disabled=f),E[0]&262144&&I!==(I=!y[18])&&(p.disabled=I),E[0]&32&&de(p,"grouped",y[5])},d(y){y&&(b(e),b(l),b(s),b(i),b(n),b(r),b(o),b(_),b(m),b(d),b(p)),M=!1,xe(N)}}}function pl(t){let e,l,s,i,n;function a(o){t[55](o)}let u={items:t[28]};t[0]!==void 0&&(u.value=t[0]),e=new Et({props:u}),lt.push(()=>Vt(e,"value",a)),e.$on("change",t[34]);let r=t[0]&&vl(t);return{c(){Je(e.$$.fragment),s=q(),r&&r.c(),i=we()},l(o){Ue(e.$$.fragment,o),s=J(o),r&&r.l(o),i=we()},m(o,h){Be(e,o,h),O(o,s,h),r&&r.m(o,h),O(o,i,h),n=!0},p(o,h){const g={};!l&&h[0]&1&&(l=!0,g.value=o[0],Lt(()=>l=!1)),e.$set(g),o[0]?r?(r.p(o,h),h[0]&1&&F(r,1)):(r=vl(o),r.c(),F(r,1),r.m(i.parentNode,i)):r&&(je(),G(r,1,1,()=>{r=null}),qe())},i(o){n||(F(e.$$.fragment,o),F(r),n=!0)},o(o){G(e.$$.fragment,o),G(r),n=!1},d(o){o&&(b(s),b(i)),Fe(e,o),r&&r.d(o)}}}function vl(t){let e,l,s="Conqueror",i,n,a,u,r=t[1]&&Object.keys(te.TimelessJewelConquerors[t[0].value]).indexOf(t[1].value)>=0,o,h;function g(c){t[56](c)}let _={items:t[27]};t[1]!==void 0&&(_.value=t[1]),n=new Et({props:_}),lt.push(()=>Vt(n,"value",g)),n.$on("change",t[29]);let m=r&&bl(t);return{c(){e=A("div"),l=A("h3"),l.textContent=s,i=q(),Je(n.$$.fragment),u=q(),m&&m.c(),o=we(),this.h()},l(c){e=R(c,"DIV",{class:!0});var f=D(e);l=R(f,"H3",{class:!0,"data-svelte-h":!0}),pe(l)!=="svelte-1jyt00f"&&(l.textContent=s),i=J(f),Ue(n.$$.fragment,f),f.forEach(b),u=J(c),m&&m.l(c),o=we(),this.h()},h(){T(l,"class","mb-2"),T(e,"class","mt-4")},m(c,f){O(c,e,f),w(e,l),w(e,i),Be(n,e,null),O(c,u,f),m&&m.m(c,f),O(c,o,f),h=!0},p(c,f){const d={};f[0]&134217728&&(d.items=c[27]),!a&&f[0]&2&&(a=!0,d.value=c[1],Lt(()=>a=!1)),n.$set(d),f[0]&3&&(r=c[1]&&Object.keys(te.TimelessJewelConquerors[c[0].value]).indexOf(c[1].value)>=0),r?m?(m.p(c,f),f[0]&3&&F(m,1)):(m=bl(c),m.c(),F(m,1),m.m(o.parentNode,o)):m&&(je(),G(m,1,1,()=>{m=null}),qe())},i(c){h||(F(n.$$.fragment,c),F(m),h=!0)},o(c){G(n.$$.fragment,c),G(m),h=!1},d(c){c&&(b(e),b(u),b(o)),Fe(n),m&&m.d(c)}}}function bl(t){let e,l,s="Enter Seed",i,n,a="Select Stats",u,r,o,h,g,_,m,c;const f=[Ks,Hs],d=[];function p(I,M){return I[11]==="seed"?0:I[11]==="stats"?1:-1}~(r=p(t))&&(o=d[r]=f[r](t));let S=!t[3]&&Cl();return{c(){e=A("div"),l=A("button"),l.textContent=s,i=q(),n=A("button"),n.textContent=a,u=q(),o&&o.c(),h=q(),S&&S.c(),g=we(),this.h()},l(I){e=R(I,"DIV",{class:!0});var M=D(e);l=R(M,"BUTTON",{class:!0,"data-svelte-h":!0}),pe(l)!=="svelte-l4qe05"&&(l.textContent=s),i=J(M),n=R(M,"BUTTON",{class:!0,"data-svelte-h":!0}),pe(n)!=="svelte-1d9agkx"&&(n.textContent=a),M.forEach(b),u=J(I),o&&o.l(I),h=J(I),S&&S.l(I),g=we(),this.h()},h(){T(l,"class","selection-button svelte-1fekgnt"),de(l,"selected",t[11]==="seed"),T(n,"class","selection-button svelte-1fekgnt"),de(n,"selected",t[11]==="stats"),T(e,"class","mt-4 w-full flex flex-row")},m(I,M){O(I,e,M),w(e,l),w(e,i),w(e,n),O(I,u,M),~r&&d[r].m(I,M),O(I,h,M),S&&S.m(I,M),O(I,g,M),_=!0,m||(c=[C(l,"click",t[57]),C(n,"click",t[58])],m=!0)},p(I,M){(!_||M[0]&2048)&&de(l,"selected",I[11]==="seed"),(!_||M[0]&2048)&&de(n,"selected",I[11]==="stats");let N=r;r=p(I),r===N?~r&&d[r].p(I,M):(o&&(je(),G(d[N],1,1,()=>{d[N]=null}),qe()),~r?(o=d[r],o?o.p(I,M):(o=d[r]=f[r](I),o.c()),F(o,1),o.m(h.parentNode,h)):o=null),I[3]?S&&(S.d(1),S=null):S||(S=Cl(),S.c(),S.m(g.parentNode,g))},i(I){_||(F(o),_=!0)},o(I){G(o),_=!1},d(I){I&&(b(e),b(u),b(h),b(g)),~r&&d[r].d(I),S&&S.d(I),m=!1,xe(c)}}}function Hs(t){let e,l,s="Add Stat",i,n,a,u=Object.keys(t[4]).length>0,r,o,h={items:t[25]};n=new Et({props:h}),t[66](n),n.$on("change",t[32]);let g=u&&wl(t);return{c(){e=A("div"),l=A("h3"),l.textContent=s,i=q(),Je(n.$$.fragment),a=q(),g&&g.c(),r=we(),this.h()},l(_){e=R(_,"DIV",{class:!0});var m=D(e);l=R(m,"H3",{class:!0,"data-svelte-h":!0}),pe(l)!=="svelte-8jbl9c"&&(l.textContent=s),i=J(m),Ue(n.$$.fragment,m),m.forEach(b),a=J(_),g&&g.l(_),r=we(),this.h()},h(){T(l,"class","mb-2"),T(e,"class","mt-4")},m(_,m){O(_,e,m),w(e,l),w(e,i),Be(n,e,null),O(_,a,m),g&&g.m(_,m),O(_,r,m),o=!0},p(_,m){const c={};m[0]&33554432&&(c.items=_[25]),n.$set(c),m[0]&16&&(u=Object.keys(_[4]).length>0),u?g?g.p(_,m):(g=wl(_),g.c(),g.m(r.parentNode,r)):g&&(g.d(1),g=null)},i(_){o||(F(n.$$.fragment,_),o=!0)},o(_){G(n.$$.fragment,_),o=!1},d(_){_&&(b(e),b(a),b(r)),t[66](null),Fe(n),g&&g.d(_)}}}function Ks(t){let e,l,s="Seed",i,n,a,u,r,o,h,g,_,m,c=(t[2]<te.TimelessJewelSeedRanges[t[0].value].Min||t[2]>te.TimelessJewelSeedRanges[t[0].value].Max)&&Sl(t),f=t[2]>=te.TimelessJewelSeedRanges[t[0].value].Min&&t[2]<=te.TimelessJewelSeedRanges[t[0].value].Max&&Il(t);return{c(){e=A("div"),l=A("h3"),l.textContent=s,i=q(),n=A("input"),r=q(),c&&c.c(),o=q(),f&&f.c(),h=we(),this.h()},l(d){e=R(d,"DIV",{class:!0});var p=D(e);l=R(p,"H3",{class:!0,"data-svelte-h":!0}),pe(l)!=="svelte-12wsj4m"&&(l.textContent=s),i=J(p),n=R(p,"INPUT",{type:!0,min:!0,max:!0}),r=J(p),c&&c.l(p),p.forEach(b),o=J(d),f&&f.l(d),h=we(),this.h()},h(){T(l,"class","mb-2"),T(n,"type","number"),T(n,"min",a=te.TimelessJewelSeedRanges[t[0].value].Min),T(n,"max",u=te.TimelessJewelSeedRanges[t[0].value].Max),T(e,"class","mt-4")},m(d,p){O(d,e,p),w(e,l),w(e,i),w(e,n),Ve(n,t[2]),w(e,r),c&&c.m(e,null),O(d,o,p),f&&f.m(d,p),O(d,h,p),g=!0,_||(m=[C(n,"input",t[59]),C(n,"blur",t[29])],_=!0)},p(d,p){(!g||p[0]&1&&a!==(a=te.TimelessJewelSeedRanges[d[0].value].Min))&&T(n,"min",a),(!g||p[0]&1&&u!==(u=te.TimelessJewelSeedRanges[d[0].value].Max))&&T(n,"max",u),p[0]&4&&$e(n.value)!==d[2]&&Ve(n,d[2]),d[2]<te.TimelessJewelSeedRanges[d[0].value].Min||d[2]>te.TimelessJewelSeedRanges[d[0].value].Max?c?c.p(d,p):(c=Sl(d),c.c(),c.m(e,null)):c&&(c.d(1),c=null),d[2]>=te.TimelessJewelSeedRanges[d[0].value].Min&&d[2]<=te.TimelessJewelSeedRanges[d[0].value].Max?f?(f.p(d,p),p[0]&5&&F(f,1)):(f=Il(d),f.c(),F(f,1),f.m(h.parentNode,h)):f&&(je(),G(f,1,1,()=>{f=null}),qe())},i(d){g||(F(f),g=!0)},o(d){G(f),g=!1},d(d){d&&(b(e),b(o),b(h)),c&&c.d(),f&&f.d(d),_=!1,xe(m)}}}function wl(t){let e,l,s,i,n,a="Min Total Weight:",u,r,o,h,g,_,m,c,f,d,p,S,I,M,N,y,E,j,z,V,U,W,Z,he,ke,ae=Ne(Object.keys(t[4])),$=[];for(let B=0;B<ae.length;B+=1)$[B]=kl(cl(t,ae,B));function Ce(B,ne){return B[16]?Xs:Ys}let ze=Ce(t),Se=ze(t);return{c(){e=A("div");for(let B=0;B<$.length;B+=1)$[B].c();l=q(),s=A("div"),i=A("div"),n=A("div"),n.textContent=a,u=q(),r=A("input"),o=q(),h=A("div"),g=A("div"),_=A("button"),m=Y("Select All"),f=q(),d=A("button"),p=Y("Notables"),I=q(),M=A("button"),N=Y("Passives"),E=q(),j=A("button"),z=Y("Deselect"),U=q(),W=A("div"),Z=A("button"),Se.c(),this.h()},l(B){e=R(B,"DIV",{class:!0});var ne=D(e);for(let Pe=0;Pe<$.length;Pe+=1)$[Pe].l(ne);ne.forEach(b),l=J(B),s=R(B,"DIV",{class:!0});var ie=D(s);i=R(ie,"DIV",{class:!0});var L=D(i);n=R(L,"DIV",{class:!0,"data-svelte-h":!0}),pe(n)!=="svelte-ydmsqj"&&(n.textContent=a),u=J(L),r=R(L,"INPUT",{type:!0,min:!0}),L.forEach(b),ie.forEach(b),o=J(B),h=R(B,"DIV",{class:!0});var v=D(h);g=R(v,"DIV",{class:!0});var Q=D(g);_=R(Q,"BUTTON",{class:!0});var ue=D(_);m=X(ue,"Select All"),ue.forEach(b),f=J(Q),d=R(Q,"BUTTON",{class:!0});var le=D(d);p=X(le,"Notables"),le.forEach(b),I=J(Q),M=R(Q,"BUTTON",{class:!0});var _e=D(M);N=X(_e,"Passives"),_e.forEach(b),E=J(Q),j=R(Q,"BUTTON",{class:!0});var se=D(j);z=X(se,"Deselect"),se.forEach(b),Q.forEach(b),U=J(v),W=R(v,"DIV",{class:!0});var ge=D(W);Z=R(ge,"BUTTON",{class:!0});var me=D(Z);Se.l(me),me.forEach(b),ge.forEach(b),v.forEach(b),this.h()},h(){T(e,"class","mt-4 flex flex-col overflow-auto min-h-[100px]"),T(n,"class","mr-2 min-w-fit"),T(r,"type","number"),T(r,"min","0"),T(i,"class","flex flex-row items-center"),T(s,"class","flex flex-col mt-2"),T(_,"class","p-2 px-2 bg-yellow-500/40 rounded disabled:bg-yellow-900/40 mr-2"),_.disabled=c=t[16]||t[12].size==0,T(d,"class","p-2 px-2 bg-yellow-500/40 rounded disabled:bg-yellow-900/40 mr-2"),d.disabled=S=t[16]||t[12].size==0,T(M,"class","p-2 px-2 bg-yellow-500/40 rounded disabled:bg-yellow-900/40 mr-2"),M.disabled=y=t[16]||t[12].size==0,T(j,"class","p-2 px-2 bg-yellow-500/40 rounded disabled:bg-yellow-900/40 flex-grow"),j.disabled=V=t[16]||t[12].size>=t[10].length,T(g,"class","flex flex-row"),T(Z,"class","p-2 px-3 bg-green-500/40 rounded disabled:bg-green-900/40 flex-grow"),Z.disabled=t[16],T(W,"class","flex flex-row mt-2"),T(h,"class","flex flex-col mt-4")},m(B,ne){O(B,e,ne);for(let ie=0;ie<$.length;ie+=1)$[ie]&&$[ie].m(e,null);O(B,l,ne),O(B,s,ne),w(s,i),w(i,n),w(i,u),w(i,r),Ve(r,t[15]),O(B,o,ne),O(B,h,ne),w(h,g),w(g,_),w(_,m),w(g,f),w(g,d),w(d,p),w(g,I),w(g,M),w(M,N),w(g,E),w(g,j),w(j,z),w(h,U),w(h,W),w(W,Z),Se.m(Z,null),he||(ke=[C(r,"input",t[70]),C(_,"click",t[37]),C(d,"click",t[38]),C(M,"click",t[39]),C(j,"click",t[40]),C(Z,"click",t[71])],he=!0)},p(B,ne){if(ne[0]&16|ne[1]&4){ae=Ne(Object.keys(B[4]));let ie;for(ie=0;ie<ae.length;ie+=1){const L=cl(B,ae,ie);$[ie]?$[ie].p(L,ne):($[ie]=kl(L),$[ie].c(),$[ie].m(e,null))}for(;ie<$.length;ie+=1)$[ie].d(1);$.length=ae.length}ne[0]&32768&&$e(r.value)!==B[15]&&Ve(r,B[15]),ne[0]&69632&&c!==(c=B[16]||B[12].size==0)&&(_.disabled=c),ne[0]&69632&&S!==(S=B[16]||B[12].size==0)&&(d.disabled=S),ne[0]&69632&&y!==(y=B[16]||B[12].size==0)&&(M.disabled=y),ne[0]&70656&&V!==(V=B[16]||B[12].size>=B[10].length)&&(j.disabled=V),ze===(ze=Ce(B))&&Se?Se.p(B,ne):(Se.d(1),Se=ze(B),Se&&(Se.c(),Se.m(Z,null))),ne[0]&65536&&(Z.disabled=B[16])},d(B){B&&(b(e),b(l),b(s),b(o),b(h)),st($,B),Se.d(),he=!1,xe(ke)}}}function kl(t){let e,l,s,i="-",n,a,u=ft(t[4][t[84]].id)+"",r,o,h,g,_,m="Min:",c,f,d,p,S,I="Weight:",M,N,y,E,j;function z(){return t[67](t[84])}function V(){t[68].call(f,t[84])}function U(){t[69].call(N,t[84])}return{c(){e=A("div"),l=A("div"),s=A("button"),s.textContent=i,n=q(),a=A("span"),r=Y(u),o=q(),h=A("div"),g=A("div"),_=A("div"),_.textContent=m,c=q(),f=A("input"),d=q(),p=A("div"),S=A("div"),S.textContent=I,M=q(),N=A("input"),y=q(),this.h()},l(W){e=R(W,"DIV",{class:!0});var Z=D(e);l=R(Z,"DIV",{});var he=D(l);s=R(he,"BUTTON",{class:!0,"data-svelte-h":!0}),pe(s)!=="svelte-bzfob2"&&(s.textContent=i),n=J(he),a=R(he,"SPAN",{});var ke=D(a);r=X(ke,u),ke.forEach(b),he.forEach(b),o=J(Z),h=R(Z,"DIV",{class:!0});var ae=D(h);g=R(ae,"DIV",{class:!0});var $=D(g);_=R($,"DIV",{class:!0,"data-svelte-h":!0}),pe(_)!=="svelte-1m3cjix"&&(_.textContent=m),c=J($),f=R($,"INPUT",{type:!0,min:!0}),$.forEach(b),d=J(ae),p=R(ae,"DIV",{class:!0});var Ce=D(p);S=R(Ce,"DIV",{class:!0,"data-svelte-h":!0}),pe(S)!=="svelte-nrzr8j"&&(S.textContent=I),M=J(Ce),N=R(Ce,"INPUT",{type:!0,min:!0}),Ce.forEach(b),ae.forEach(b),y=J(Z),Z.forEach(b),this.h()},h(){T(s,"class","p-2 px-4 bg-red-500/40 rounded mr-2"),T(_,"class","mr-2"),T(f,"type","number"),T(f,"min","0"),T(g,"class","mr-4 flex flex-row items-center"),T(S,"class","mr-2"),T(N,"type","number"),T(N,"min","0"),T(p,"class","flex flex-row items-center"),T(h,"class","mt-2 flex flex-row"),T(e,"class","mb-4 flex flex-row items-start flex-col border-neutral-100/40 border-b pb-4")},m(W,Z){O(W,e,Z),w(e,l),w(l,s),w(l,n),w(l,a),w(a,r),w(e,o),w(e,h),w(h,g),w(g,_),w(g,c),w(g,f),Ve(f,t[4][t[84]].min),w(h,d),w(h,p),w(p,S),w(p,M),w(p,N),Ve(N,t[4][t[84]].weight),w(e,y),E||(j=[C(s,"click",z),C(f,"input",V),C(N,"input",U)],E=!0)},p(W,Z){t=W,Z[0]&16&&u!==(u=ft(t[4][t[84]].id)+"")&&Re(r,u),Z[0]&16&&$e(f.value)!==t[4][t[84]].min&&Ve(f,t[4][t[84]].min),Z[0]&16&&$e(N.value)!==t[4][t[84]].weight&&Ve(N,t[4][t[84]].weight)},d(W){W&&b(e),E=!1,xe(j)}}}function Ys(t){let e;return{c(){e=Y("Search")},l(l){e=X(l,"Search")},m(l,s){O(l,e,s)},p:Ze,d(l){l&&b(e)}}}function Xs(t){let e,l,s=te.TimelessJewelSeedRanges[t[0].value].Max+"",i;return{c(){e=Y(t[17]),l=Y(" / "),i=Y(s)},l(n){e=X(n,t[17]),l=X(n," / "),i=X(n,s)},m(n,a){O(n,e,a),O(n,l,a),O(n,i,a)},p(n,a){a[0]&131072&&Re(e,n[17]),a[0]&1&&s!==(s=te.TimelessJewelSeedRanges[n[0].value].Max+"")&&Re(i,s)},d(n){n&&(b(e),b(l),b(i))}}}function Sl(t){let e,l,s=te.TimelessJewelSeedRanges[t[0].value].Min+"",i,n,a=te.TimelessJewelSeedRanges[t[0].value].Max+"",u;return{c(){e=A("div"),l=Y("Seed must be between "),i=Y(s),n=Y(`
                      and `),u=Y(a),this.h()},l(r){e=R(r,"DIV",{class:!0});var o=D(e);l=X(o,"Seed must be between "),i=X(o,s),n=X(o,`
                      and `),u=X(o,a),o.forEach(b),this.h()},h(){T(e,"class","mt-2")},m(r,o){O(r,e,o),w(e,l),w(e,i),w(e,n),w(e,u)},p(r,o){o[0]&1&&s!==(s=te.TimelessJewelSeedRanges[r[0].value].Min+"")&&Re(i,s),o[0]&1&&a!==(a=te.TimelessJewelSeedRanges[r[0].value].Max+"")&&Re(u,a)},d(r){r&&b(e)}}}function Il(t){let e,l,s,i="Sort Order",n,a,u,r,o,h,g="Colors",_,m,c,f="Split",d,p,S,I,M;function N(V){t[60](V)}let y={items:t[43]};t[7]!==void 0&&(y.value=t[7]),a=new Et({props:y}),lt.push(()=>Vt(a,"value",N));function E(V,U){return V[9]?Gs:Ws}let j=E(t),z=j(t);return{c(){e=A("div"),l=A("div"),s=A("h3"),s.textContent=i,n=q(),Je(a.$$.fragment),r=q(),o=A("div"),h=A("button"),h.textContent=g,_=q(),m=A("div"),c=A("button"),c.textContent=f,d=q(),z.c(),p=we(),this.h()},l(V){e=R(V,"DIV",{class:!0});var U=D(e);l=R(U,"DIV",{class:!0});var W=D(l);s=R(W,"H3",{class:!0,"data-svelte-h":!0}),pe(s)!=="svelte-6mxxgp"&&(s.textContent=i),n=J(W),Ue(a.$$.fragment,W),W.forEach(b),r=J(U),o=R(U,"DIV",{class:!0});var Z=D(o);h=R(Z,"BUTTON",{class:!0,"data-svelte-h":!0}),pe(h)!=="svelte-79cf57"&&(h.textContent=g),Z.forEach(b),_=J(U),m=R(U,"DIV",{class:!0});var he=D(m);c=R(he,"BUTTON",{class:!0,"data-svelte-h":!0}),pe(c)!=="svelte-1jp80zt"&&(c.textContent=f),he.forEach(b),U.forEach(b),d=J(V),z.l(V),p=we(),this.h()},h(){T(s,"class","mb-2"),T(l,"class","flex-grow"),T(h,"class","bg-neutral-500/20 p-2 px-4 rounded svelte-1fekgnt"),de(h,"selected",t[8]),T(o,"class","ml-2"),T(c,"class","bg-neutral-500/20 p-2 px-4 rounded svelte-1fekgnt"),de(c,"selected",t[9]),T(m,"class","ml-2"),T(e,"class","flex flex-row mt-4 items-end")},m(V,U){O(V,e,U),w(e,l),w(l,s),w(l,n),Be(a,l,null),w(e,r),w(e,o),w(o,h),w(e,_),w(e,m),w(m,c),O(V,d,U),z.m(V,U),O(V,p,U),S=!0,I||(M=[C(h,"click",t[61]),C(c,"click",t[62])],I=!0)},p(V,U){const W={};!u&&U[0]&128&&(u=!0,W.value=V[7],Lt(()=>u=!1)),a.$set(W),(!S||U[0]&256)&&de(h,"selected",V[8]),(!S||U[0]&512)&&de(c,"selected",V[9]),j===(j=E(V))&&z?z.p(V,U):(z.d(1),z=j(V),z&&(z.c(),z.m(p.parentNode,p)))},i(V){S||(F(a.$$.fragment,V),S=!0)},o(V){G(a.$$.fragment,V),S=!1},d(V){V&&(b(e),b(d),b(p)),Fe(a),z.d(V),I=!1,xe(M)}}}function Gs(t){let e,l,s="Notables",i,n,a,u,r="Smalls",o,h,g=Ne(t[42](t[41](t[26],t[8],"notables"),t[7].value)),_=[];for(let f=0;f<g.length;f+=1)_[f]=yl(dl(t,g,f));let m=Ne(t[42](t[41](t[26],t[8],"passives"),t[7].value)),c=[];for(let f=0;f<m.length;f+=1)c[f]=El(hl(t,m,f));return{c(){e=A("div"),l=A("h3"),l.textContent=s,i=q(),n=A("ul");for(let f=0;f<_.length;f+=1)_[f].c();a=q(),u=A("h3"),u.textContent=r,o=q(),h=A("ul");for(let f=0;f<c.length;f+=1)c[f].c();this.h()},l(f){e=R(f,"DIV",{class:!0});var d=D(e);l=R(d,"H3",{"data-svelte-h":!0}),pe(l)!=="svelte-uhg2bi"&&(l.textContent=s),i=J(d),n=R(d,"UL",{class:!0});var p=D(n);for(let I=0;I<_.length;I+=1)_[I].l(p);p.forEach(b),a=J(d),u=R(d,"H3",{class:!0,"data-svelte-h":!0}),pe(u)!=="svelte-mdvksr"&&(u.textContent=r),o=J(d),h=R(d,"UL",{class:!0});var S=D(h);for(let I=0;I<c.length;I+=1)c[I].l(S);S.forEach(b),d.forEach(b),this.h()},h(){T(n,"class","mt-1 svelte-1fekgnt"),de(n,"rainbow",t[8]),T(u,"class","mt-2"),T(h,"class","mt-1 svelte-1fekgnt"),de(h,"rainbow",t[8]),T(e,"class","overflow-auto mt-4")},m(f,d){O(f,e,d),w(e,l),w(e,i),w(e,n);for(let p=0;p<_.length;p+=1)_[p]&&_[p].m(n,null);w(e,a),w(e,u),w(e,o),w(e,h);for(let p=0;p<c.length;p+=1)c[p]&&c[p].m(h,null)},p(f,d){if(d[0]&67109252|d[1]&3104){g=Ne(f[42](f[41](f[26],f[8],"notables"),f[7].value));let p;for(p=0;p<g.length;p+=1){const S=dl(f,g,p);_[p]?_[p].p(S,d):(_[p]=yl(S),_[p].c(),_[p].m(n,null))}for(;p<_.length;p+=1)_[p].d(1);_.length=g.length}if(d[0]&256&&de(n,"rainbow",f[8]),d[0]&67109252|d[1]&3104){m=Ne(f[42](f[41](f[26],f[8],"passives"),f[7].value));let p;for(p=0;p<m.length;p+=1){const S=hl(f,m,p);c[p]?c[p].p(S,d):(c[p]=El(S),c[p].c(),c[p].m(h,null))}for(;p<c.length;p+=1)c[p].d(1);c.length=m.length}d[0]&256&&de(h,"rainbow",f[8])},d(f){f&&b(e),st(_,f),st(c,f)}}}function Ws(t){let e,l=Ne(t[42](t[41](t[26],t[8],"all"),t[7].value)),s=[];for(let i=0;i<l.length;i+=1)s[i]=Tl(ml(t,l,i));return{c(){e=A("ul");for(let i=0;i<s.length;i+=1)s[i].c();this.h()},l(i){e=R(i,"UL",{class:!0});var n=D(e);for(let a=0;a<s.length;a+=1)s[a].l(n);n.forEach(b),this.h()},h(){T(e,"class","mt-4 overflow-auto svelte-1fekgnt"),de(e,"rainbow",t[8])},m(i,n){O(i,e,n);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(e,null)},p(i,n){if(n[0]&67109252|n[1]&3104){l=Ne(i[42](i[41](i[26],i[8],"all"),i[7].value));let a;for(a=0;a<l.length;a+=1){const u=ml(i,l,a);s[a]?s[a].p(u,n):(s[a]=Tl(u),s[a].c(),s[a].m(e,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=l.length}n[0]&256&&de(e,"rainbow",i[8])},d(i){i&&b(e),st(s,i)}}}function yl(t){let e,l,s,i=t[77].passives.length+"",n,a,u,r,o,h=t[77].stat+"",g,_,m;function c(){return t[64](t[77])}return{c(){e=A("li"),l=A("span"),s=Y("("),n=Y(i),a=Y(")"),u=q(),r=A("span"),o=new Ot(!1),g=q(),this.h()},l(f){e=R(f,"LI",{class:!0});var d=D(e);l=R(d,"SPAN",{class:!0});var p=D(l);s=X(p,"("),n=X(p,i),a=X(p,")"),p.forEach(b),u=J(d),r=R(d,"SPAN",{class:!0});var S=D(r);o=Dt(S,!1),S.forEach(b),g=J(d),d.forEach(b),this.h()},h(){T(l,"class","font-bold"),de(l,"text-white",(et[t[77].id]||0)<3),o.a=null,T(r,"class","text-white"),T(e,"class","cursor-pointer")},m(f,d){O(f,e,d),w(e,l),w(l,s),w(l,n),w(l,a),w(e,u),w(e,r),o.m(h,r),w(e,g),_||(m=C(e,"click",c),_=!0)},p(f,d){t=f,d[0]&67109248&&i!==(i=t[77].passives.length+"")&&Re(n,i),d[0]&67109248|d[1]&3072&&de(l,"text-white",(et[t[77].id]||0)<3),d[0]&67109248&&h!==(h=t[77].stat+"")&&o.p(h)},d(f){f&&b(e),_=!1,m()}}}function El(t){let e,l,s,i=t[77].passives.length+"",n,a,u,r,o,h=t[77].stat+"",g,_,m;function c(){return t[65](t[77])}return{c(){e=A("li"),l=A("span"),s=Y("("),n=Y(i),a=Y(")"),u=q(),r=A("span"),o=new Ot(!1),g=q(),this.h()},l(f){e=R(f,"LI",{class:!0});var d=D(e);l=R(d,"SPAN",{class:!0});var p=D(l);s=X(p,"("),n=X(p,i),a=X(p,")"),p.forEach(b),u=J(d),r=R(d,"SPAN",{class:!0});var S=D(r);o=Dt(S,!1),S.forEach(b),g=J(d),d.forEach(b),this.h()},h(){T(l,"class","font-bold"),de(l,"text-white",(et[t[77].id]||0)<3),o.a=null,T(r,"class","text-white"),T(e,"class","cursor-pointer")},m(f,d){O(f,e,d),w(e,l),w(l,s),w(l,n),w(l,a),w(e,u),w(e,r),o.m(h,r),w(e,g),_||(m=C(e,"click",c),_=!0)},p(f,d){t=f,d[0]&67109248&&i!==(i=t[77].passives.length+"")&&Re(n,i),d[0]&67109248|d[1]&3072&&de(l,"text-white",(et[t[77].id]||0)<3),d[0]&67109248&&h!==(h=t[77].stat+"")&&o.p(h)},d(f){f&&b(e),_=!1,m()}}}function Tl(t){let e,l,s,i=t[77].passives.length+"",n,a,u,r,o,h=t[77].stat+"",g,_,m;function c(){return t[63](t[77])}return{c(){e=A("li"),l=A("span"),s=Y("("),n=Y(i),a=Y(")"),u=q(),r=A("span"),o=new Ot(!1),g=q(),this.h()},l(f){e=R(f,"LI",{class:!0});var d=D(e);l=R(d,"SPAN",{class:!0});var p=D(l);s=X(p,"("),n=X(p,i),a=X(p,")"),p.forEach(b),u=J(d),r=R(d,"SPAN",{class:!0});var S=D(r);o=Dt(S,!1),S.forEach(b),g=J(d),d.forEach(b),this.h()},h(){T(l,"class","font-bold"),de(l,"text-white",(et[t[77].id]||0)<3),o.a=null,T(r,"class","text-white"),T(e,"class","cursor-pointer")},m(f,d){O(f,e,d),w(e,l),w(l,s),w(l,n),w(l,a),w(e,u),w(e,r),o.m(h,r),w(e,g),_||(m=C(e,"click",c),_=!0)},p(f,d){t=f,d[0]&67109248&&i!==(i=t[77].passives.length+"")&&Re(n,i),d[0]&67109248|d[1]&3072&&de(l,"text-white",(et[t[77].id]||0)<3),d[0]&67109248&&h!==(h=t[77].stat+"")&&o.p(h)},d(f){f&&b(e),_=!1,m()}}}function Cl(t){let e,l="Click on a jewel socket";return{c(){e=A("h2"),e.textContent=l,this.h()},l(s){e=R(s,"H2",{class:!0,"data-svelte-h":!0}),pe(e)!=="svelte-4ztcob"&&(e.textContent=l),this.h()},h(){T(e,"class","mt-4")},m(s,i){O(s,e,i)},d(s){s&&b(e)}}}function Al(t){let e,l;return e=new js({props:{searchResults:t[18],groupResults:t[5],highlight:t[36],jewel:t[19],conqueror:t[20]}}),{c(){Je(e.$$.fragment)},l(s){Ue(e.$$.fragment,s)},m(s,i){Be(e,s,i),l=!0},p(s,i){const n={};i[0]&262144&&(n.searchResults=s[18]),i[0]&32&&(n.groupResults=s[5]),i[0]&524288&&(n.jewel=s[19]),i[0]&1048576&&(n.conqueror=s[20]),e.$set(n)},i(s){l||(F(e.$$.fragment,s),l=!0)},o(s){G(e.$$.fragment,s),l=!1},d(s){Fe(e,s)}}}function Qs(t){let e,l,s,i,n='<a href="https://github.com/Vilsol/timeless-jewels" target="_blank" rel="noopener">Source (Github)</a>',a;const u=[Us,Js],r=[];function o(h,g){return h[24]?1:0}return e=o(t),l=r[e]=u[e](t),{c(){l.c(),s=q(),i=A("div"),i.innerHTML=n,this.h()},l(h){l.l(h),s=J(h),i=R(h,"DIV",{class:!0,"data-svelte-h":!0}),pe(i)!=="svelte-1xcazan"&&(i.innerHTML=n),this.h()},h(){T(i,"class","text-orange-500 absolute bottom-0 right-0 m-2")},m(h,g){r[e].m(h,g),O(h,s,g),O(h,i,g),a=!0},p(h,g){let _=e;e=o(h),e===_?r[e].p(h,g):(je(),G(r[_],1,1,()=>{r[_]=null}),qe(),l=r[e],l?l.p(h,g):(l=r[e]=u[e](h),l.c()),F(l,1),l.m(s.parentNode,s))},i(h){a||(F(l),a=!0)},o(h){G(l),a=!1},d(h){h&&(b(s),b(i)),r[e].d(h)}}}function Zs(t){var n,a;let e,l,s,i;return e=new ks({props:{clickNode:t[31],circledNode:t[3],selectedJewel:(n=t[0])==null?void 0:n.value,selectedConqueror:(a=t[1])==null?void 0:a.value,highlighted:t[21],seed:t[2],highlightJewels:!t[3],disabled:[...t[12]],$$slots:{default:[Qs]},$$scope:{ctx:t}}}),{c(){Je(e.$$.fragment)},l(u){Ue(e.$$.fragment,u)},m(u,r){Be(e,u,r),l=!0,s||(i=C(qs,"paste",t[44]),s=!0)},p(u,r){var h,g;const o={};r[0]&8&&(o.circledNode=u[3]),r[0]&1&&(o.selectedJewel=(h=u[0])==null?void 0:h.value),r[0]&2&&(o.selectedConqueror=(g=u[1])==null?void 0:g.value),r[0]&2097152&&(o.highlighted=u[21]),r[0]&4&&(o.seed=u[2]),r[0]&8&&(o.highlightJewels=!u[3]),r[0]&4096&&(o.disabled=[...u[12]]),r[0]&266338303|r[2]&33554432&&(o.$$scope={dirty:r,ctx:u}),e.$set(o)},i(u){l||(F(e.$$.fragment,u),l=!0)},o(u){G(e.$$.fragment,u),l=!1},d(u){Fe(e,u),s=!1,i()}}}function xs(t,e,l){let s,i,n,a,u,r;Ml(t,ts,P=>l(73,r=P));const o=r.url.searchParams,h=Object.keys(te.TimelessJewels).map(P=>({value:parseInt(P),label:te.TimelessJewels[P]}));let g=o.has("jewel")?h.find(P=>P.value==o.get("jewel")):void 0,_=o.has("conqueror")?{value:o.get("conqueror"),label:o.get("conqueror")}:void 0,m=o.has("seed")?parseInt(o.get("seed")):0,c=o.has("location")?parseInt(o.get("location")):void 0,f={};o.has("stat")&&o.getAll("stat").forEach(P=>{const ee=parseInt(P);l(4,f[ee]={weight:1,min:0,id:ee},f)});let d=o.has("mode")?o.get("mode"):"";const p=()=>{const P=new URL(window.location.origin+window.location.pathname);g&&P.searchParams.append("jewel",g.value.toString()),_&&P.searchParams.append("conqueror",_.value),m&&P.searchParams.append("seed",m.toString()),c&&P.searchParams.append("location",c.toString()),d&&P.searchParams.append("mode",d),Object.keys(f).forEach(ee=>{P.searchParams.append("stat",ee.toString())}),Xl(P.toString())},S=P=>{l(11,d=P),p()};let I=new Set;const M=P=>{P.isJewelSocket?(l(3,c=P.skill),p()):P.isMastery||(I.has(P.skill)?I.delete(P.skill):I.add(P.skill),l(12,I))},N=JSON.parse(te.PossibleStats);let y;const E=P=>{l(4,f[P.detail.value]={weight:1,min:0,id:P.detail.value},f),l(4,f),y.handleClear(),p()},j=P=>{delete f[P],l(4,f),p()},z=()=>{l(4,f={}),p()};let V=!1,U=0,W=!1,Z=0,he,ke=1,ae="";const $=()=>{if(!c)return;l(19,ke=g.value),l(20,ae=_.value),l(16,W=!0),l(18,he=void 0);const P={jewel:g.value,conqueror:_.value,nodes:i.filter(ee=>!I.has(ee.skill)).map(ee=>te.TreeToPassive[ee.skill]).filter(ee=>!!ee).map(ee=>ee.Index),stats:Object.keys(f).map(ee=>f[ee]),minTotalWeight:U};$l.search(P,es(ee=>l(17,Z=ee))).then(ee=>{l(18,he=ee),l(16,W=!1),l(14,V=!0)})};let Ce=[];const ze=(P,ee)=>{l(2,m=P),l(21,Ce=ee),p()},Se=()=>{I.clear(),l(12,I)},B=()=>{i.forEach(P=>{P.isNotable&&I.delete(P.skill)}),l(12,I)},ne=()=>{i.forEach(P=>{P.isNotable||I.delete(P.skill)}),l(12,I)},ie=()=>{i.filter(P=>!P.isJewelSocket&&!P.isMastery).forEach(P=>I.add(P.skill)),l(12,I)};let L=localStorage.getItem("groupResults")===null?!0:localStorage.getItem("groupResults")==="true",v=localStorage.getItem("multi")===null?!0:localStorage.getItem("multi")==="true";const Q={physical:"#c79d93",cast:"#b3f8fe",fire:"#ff9a77",cold:"#93d8ff",lightning:"#f8cb76",attack:"#da814d",life:"#c96e6e",chaos:"#d8a7d3",unique:"#af6025",critical:"#b2a7d6"},ue=P=>(Object.keys(Q).forEach(ee=>{const be=Q[ee];P=P.replace(new RegExp(`(${ee}(?:$|\\s))|((?:^|\\s)${ee})`,"gi"),`<span style='color: ${be}; font-weight: bold'>$1$2</span>`)}),P),le=(P,ee,be)=>{const ye={};return P.forEach(ve=>{Xe.nodes[ve.node].isKeystone||be!=="all"&&(be==="notables"&&!Xe.nodes[ve.node].isNotable||be==="passives"&&Xe.nodes[ve.node].isNotable)||(ve.result.AlternatePassiveSkill&&ve.result.AlternatePassiveSkill.StatsKeys&&ve.result.AlternatePassiveSkill.StatsKeys.forEach(Ae=>{ye[Ae]=[...ye[Ae]||[],ve.node]}),ve.result.AlternatePassiveAdditionInformations&&ve.result.AlternatePassiveAdditionInformations.forEach(Ae=>{Ae.AlternatePassiveAddition.StatsKeys&&Ae.AlternatePassiveAddition.StatsKeys.forEach(We=>{ye[We]=[...ye[We]||[],ve.node]})}))}),Object.keys(ye).map(ve=>{const Ae=ft(parseInt(ve));return{stat:ee?ue(Ae):Ae,rawStat:Ae,id:ve,passives:ye[ve]}})},_e=(P,ee)=>{switch(ee){case"alphabet":return P.sort((be,ye)=>be.rawStat.replace(/[#+%]/gi,"").trim().toLowerCase().localeCompare(ye.rawStat.replace(/[#+%]/gi,"").trim().toLowerCase()));case"count":return P.sort((be,ye)=>ye.passives.length-be.passives.length);case"rarity":return P.sort((be,ye)=>N[g.value][be.id]-N[g.value][ye.id]);case"value":return P.sort((be,ye)=>{const ve=et[be.id]||0,Ae=et[ye.id]||0;return ve!=Ae?Ae-ve:N[g.value][be.id]-N[g.value][ye.id]})}return P},se=[{label:"Count",value:"count"},{label:"Alphabetical",value:"alphabet"},{label:"Rarity",value:"rarity"},{label:"Value",value:"value"}];let ge=se.find(P=>P.value===(localStorage.getItem("sortOrder")||"count")),me=localStorage.getItem("colored")===null?!0:localStorage.getItem("colored")==="true",Pe=localStorage.getItem("split")===null?!0:localStorage.getItem("split")==="true",oe=1,H=10;const x=P=>{if(P.type!=="paste")return;const be=(P.clipboardData||window.clipboardData).getData("text").split(`
`);if(be.length<14)return;const ye=h.find(We=>We.label===be[2]);if(!ye)return;let ve,Ae;for(let We=10;We<be.length;We++)if(Ae=Object.keys(te.TimelessJewelConquerors[ye.value]).find(kt=>be[We].indexOf(kt)>=0),Ae){const kt=/(\d+)/.exec(be[We]);if(kt.length===0)continue;ve=parseInt(kt[1]);break}!Ae||!ve||(l(14,V=!1),l(11,d="seed"),l(2,m=ve),l(0,g=ye),l(1,_={label:Ae,value:Ae}),p())};let re=!1;const fe=()=>l(24,re=!0);function He(){oe=this.value,l(22,oe)}function Oe(){H=this.value,l(23,H)}const Ge=()=>l(6,v=!v),ce=()=>Kt(ke,ae,he.raw,oe,H),Ie=()=>Kt(ke,ae,he.raw,oe,H,"cn"),Ke=()=>l(5,L=!L),De=()=>l(14,V=!V);function Me(P){g=P,l(0,g)}function Le(P){_=P,l(1,_)}const at=()=>S("seed"),ct=()=>S("stats");function ht(){m=$e(this.value),l(2,m)}function ot(P){ge=P,l(7,ge)}const ut=()=>l(8,me=!me),Tt=()=>l(9,Pe=!Pe),k=P=>ze(m,P.passives),dt=P=>ze(m,P.passives),mt=P=>ze(m,P.passives);function _t(P){lt[P?"unshift":"push"](()=>{y=P,l(13,y)})}const Ct=P=>j(f[P].id);function At(P){f[P].min=$e(this.value),l(4,f)}function Rt(P){f[P].weight=$e(this.value),l(4,f)}function Pt(){U=$e(this.value),l(15,U)}const ql=()=>$(),Jl=()=>l(24,re=!1);return t.$$.update=()=>{t.$$.dirty[0]&1&&l(27,s=g?Object.keys(te.TimelessJewelConquerors[g.value]).map(P=>({value:P,label:P})):[]),t.$$.dirty[0]&8&&l(10,i=c?xl(Xe.nodes[c]).filter(P=>!P.isJewelSocket&&!P.isMastery):[]),t.$$.dirty[0]&1031&&l(26,n=!m||!g||!_||Object.keys(te.TimelessJewelConquerors[g.value]).indexOf(_.value)<0?[]:i.filter(P=>!!te.TreeToPassive[P.skill]).map(P=>({node:P.skill,result:zl.Calculate(te.TreeToPassive[P.skill].Index,m,g.value,_.value)}))),t.$$.dirty[0]&1&&l(46,a=g?Object.keys(N[g.value]):[]),t.$$.dirty[0]&16|t.$$.dirty[1]&32768&&l(25,u=a.map(P=>{const ee=parseInt(P);return{label:ft(ee),value:ee}}).filter(P=>!(P.value in f))),t.$$.dirty[0]&32&&localStorage.setItem("groupResults",L?"true":"false"),t.$$.dirty[0]&64&&localStorage.setItem("multi",v?"true":"false"),t.$$.dirty[0]&128&&localStorage.setItem("sortOrder",ge.value),t.$$.dirty[0]&256&&localStorage.setItem("colored",me?"true":"false"),t.$$.dirty[0]&512&&localStorage.setItem("split",Pe?"true":"false")},[g,_,m,c,f,L,v,ge,me,Pe,i,d,I,y,V,U,W,Z,he,ke,ae,Ce,oe,H,re,u,n,s,h,p,S,M,E,j,z,$,ze,Se,B,ne,ie,le,_e,se,x,Q,a,fe,He,Oe,Ge,ce,Ie,Ke,De,Me,Le,at,ct,ht,ot,ut,Tt,k,dt,mt,_t,Ct,At,Rt,Pt,ql,Jl]}class on extends it{constructor(e){super(),rt(this,e,xs,Zs,nt,{colorKeys:45},null,[-1,-1,-1])}get colorKeys(){return this.$$.ctx[45]}}export{on as component};
